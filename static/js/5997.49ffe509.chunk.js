"use strict";(self.webpackChunk_jbrowse_web=self.webpackChunk_jbrowse_web||[]).push([[5997],{45997:function(e,r,t){t.r(r),t.d(r,{bufferToString:function(){return p},parseCsvBuffer:function(){return h},parseTsvBuffer:function(){return w}});var n,u,a,o=t(41361),s=t(96234),c=t(32723),i=t(33028),f=t(34795),l=t(81073);function p(e){return new TextDecoder("utf8",{fatal:!0}).decode(e)}function d(e){return(n=n||(0,f.Z)((0,c.Z)().mark((function e(r){var n,u,a=arguments;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,t.e(2745).then(t.t.bind(t,12745,23)).then((function(e){return e.default}));case 3:return u=e.sent,e.abrupt("return",u((0,i.Z)({noheader:!0,output:"csv"},n)).fromString(p(r)));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,r,t){var n,u,a=e.rows[0].cells[r].text||"",o="Text";try{u=(0,l.parseLocString)(a,t)}catch(s){}return null!==(n=u)&&void 0!==n&&n.refName&&"number"===typeof u.start?o="LocString":/^\d+(\.\d+)?$/.test(a)&&(o="Number"),o}function v(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=r.hasColumnNameLine,n=void 0!==t&&t,u=r.columnNameLineNumber,a=void 0===u?1:u,c=r.isValidRefName,i=void 0===c?function(){return!1}:c,f=r.selectedAssemblyName,p=0,d={isLoaded:!0,rows:e.map((function(e,r){var t=r+(n?0:1);return e.length>p&&(p=e.length),{id:String(t),cells:e.map((function(e,r){return{columnNumber:r,text:e}}))}}))},v={};if(n&&void 0!==a){var h=d.rows.splice(a-1,1),w=(0,s.Z)(h,1)[0];w&&w.cells.forEach((function(e,r){v[r]=e.text||""}))}for(var b=[],x=[],y=0;y<p;y+=1){x.push(y);var Z=m(d,y,i);if("LocString"===Z){var g,N=(0,o.Z)(d.rows);try{for(N.s();!(g=N.n()).done;){var S=g.value.cells[y];S.extendedData=(0,l.parseLocString)(S.text,i)}}catch(k){N.e(k)}finally{N.f()}}b[y]={name:v[y],dataType:{type:Z}}}return{rowSet:d,columnDisplayOrder:x,hasColumnNames:!!n,columns:b,assemblyName:f}}function h(e,r){return(u=u||(0,f.Z)((0,c.Z)().mark((function e(r,t){var n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(r);case 2:return n=e.sent,e.abrupt("return",v(n,t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,r){return(a=a||(0,f.Z)((0,c.Z)().mark((function e(r,t){var n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(r,{delimiter:"\t"});case 2:return n=e.sent,e.abrupt("return",v(n,t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=5997.49ffe509.chunk.js.map