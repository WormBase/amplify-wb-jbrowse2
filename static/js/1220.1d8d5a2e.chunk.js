"use strict";(globalThis.webpackChunk_jbrowse_web=globalThis.webpackChunk_jbrowse_web||[]).push([[1220],{51220:(e,n,t)=>{t.r(n),t.d(n,{default:()=>z});var a=t(66204),r=t(80013),o=t(7146),l=t(46338),s=t(81799),i=t(49140),c=t(90452),d=t(90228),u=t(38684),m=t(80846),p=t(88196),g=t(43902),Z=t(31211),v=t(2266),f=t(92292),b=t(75242),h=t(86600),x=t(23540),E=t(74780),y=t(3206),C=t(3418),w=t(18569);const S=(0,a.lazy)((()=>t.e(5396).then(t.bind(t,15396)))),M=(0,u.ZL)()((()=>({lockedPluginTooltip:{marginRight:"0.5rem"}})));function k(){const{classes:e}=M();return a.createElement(x.Z,{className:e.lockedPluginTooltip,title:"This plugin was installed by an administrator, you cannot remove it."},a.createElement(C.Z,null))}const N=(0,m.observer)((function({plugin:e,model:n}){const[t,o]=(0,a.useState)(),{pluginManager:l}=(0,Z.getEnv)(n),s=(0,Z.getSession)(n),{jbrowse:c,adminMode:d}=s,u=!!(0,w.uF)(s)&&s.sessionPlugins?.some((n=>l.pluginMetadata[e.name].url===n.url));return a.createElement(a.Fragment,null,t?a.createElement(a.Suspense,{fallback:a.createElement(a.Fragment,null)},a.createElement(S,{plugin:t,onClose:n=>{if(n){const n=l.pluginMetadata[e.name];d?c.removePlugin(n):(0,w.uF)(s)&&s.removeSessionPlugin(n)}o(void 0)}})):null,a.createElement(E.ZP,{key:e.name},d||u?a.createElement(i.Z,{"data-testid":`removePlugin-${e.name}`,onClick:()=>o(e.name)},a.createElement(y.Z,null)):a.createElement(k,null),a.createElement(r.Z,null,e.name)))})),P=(0,m.observer)((function({pluginManager:e,model:n}){const{plugins:t}=e,{filterText:o}=n,l=t.filter((n=>!e.pluginMetadata[n.name]?.isCore));return a.createElement(h.Z,null,l.length>0?l.filter((e=>e.name.toLowerCase().includes(o.toLowerCase()))).map((e=>a.createElement(N,{key:e.name,plugin:e,model:n}))):a.createElement(r.Z,null,"No plugins currently installed"))}));var R=t(2331),j=t(75174),I=t(66159),A=t(90617),F=t(57361),V=t(97916),$=t(93061);const L=(0,u.ZL)()({card:{margin:"0.5em"},icon:{marginLeft:"0.5em",marginRight:"0.5em"},bold:{fontWeight:600},dataField:{display:"flex",alignItems:"center"}}),T=(0,m.observer)((function({plugin:e,model:n,adminMode:t}){const{classes:l}=L(),s=(0,Z.getSession)(n),{pluginManager:i}=(0,Z.getEnv)(n),{runtimePluginDefinitions:c}=i,d=c.some((n=>n.url===e.url)),[u,m]=(0,a.useState)(!1),g=d||u,v=(0,p.getParent)(n,3),{jbrowse:f}=v;return a.createElement(R.Z,{variant:"outlined",key:e.name,className:l.card},a.createElement(j.Z,null,a.createElement(r.Z,{variant:"h5"},a.createElement(I.Z,{href:`${e.location}#readme`,target:"_blank",rel:"noopener"},e.name)),a.createElement("div",{className:l.dataField},a.createElement(F.Z,{style:{marginRight:"0.5em"}}),a.createElement(r.Z,null,e.authors.join(", "))),a.createElement(r.Z,{className:l.bold},"Description:"),a.createElement(r.Z,null,e.description)),a.createElement(A.Z,null,a.createElement(o.Z,{variant:"contained",disabled:g,startIcon:d?a.createElement($.Z,null):a.createElement(V.Z,null),onClick:()=>{t?f.addPlugin({name:e.name,url:e.url}):(0,w.uF)(s)&&s.addSessionPlugin(e),m(!0)}},d?"Installed":"Install")))})),W=(0,a.lazy)((()=>t.e(7839).then(t.bind(t,97839)))),D=(0,u.ZL)()((e=>({expandIcon:{color:e.palette.tertiary.contrastText},adminBadge:{borderRadius:3,backgroundColor:e.palette.quaternary.main,padding:"1em",display:"flex",alignContent:"center"},customPluginButton:{margin:"1em auto",display:"flex"}}))),z=(0,m.observer)((function({model:e}){const{classes:n}=D(),{plugins:t,error:u}=function(){const[e,n]=(0,a.useState)(),[t,r]=(0,a.useState)();return(0,a.useEffect)((()=>{(async()=>{try{const e=await fetch("https://jbrowse.org/plugin-store/plugins.json");if(!e.ok){const n=await e.text();throw new Error(`HTTP ${e.status} fetching plugins: ${n}`)}const t=await e.json();n(t.plugins)}catch(e){console.error(e),r(e)}})()}),[]),{plugins:e,error:t}}(),[m,h]=(0,a.useState)(!1),{adminMode:x}=(0,Z.getSession)(e),{pluginManager:E}=(0,p.getEnv)(e);return a.createElement("div",null,x&&a.createElement(a.Fragment,null,!Z.isElectron&&a.createElement("div",{className:n.adminBadge},a.createElement(b.Z,{style:{marginRight:"0.3em"}}),a.createElement(r.Z,null,"You are using the ",a.createElement("code",null,"admin-server"),". Any changes you make will be saved to your configuration file. You also have the ability to add custom plugins that are not in the store.")),a.createElement(o.Z,{className:n.customPluginButton,variant:"contained",onClick:()=>h(!0)},"Add custom plugin"),m?a.createElement(a.Suspense,{fallback:a.createElement(a.Fragment,null)},a.createElement(W,{onClose:()=>h(!1),model:e})):null),a.createElement(l.Z,{label:"Filter plugins",value:e.filterText,onChange:n=>e.setFilterText(n.target.value),fullWidth:!0,InputProps:{endAdornment:a.createElement(s.Z,{position:"end"},a.createElement(i.Z,{onClick:()=>e.clearFilterText()},a.createElement(f.Z,null)))}}),a.createElement(c.Z,{defaultExpanded:!0},a.createElement(d.Z,{expandIcon:a.createElement(v.Z,{className:n.expandIcon})},a.createElement(r.Z,{variant:"h5"},"Installed plugins")),a.createElement("div",{style:{margin:"1em"}},a.createElement(P,{pluginManager:E,model:e}))),a.createElement(c.Z,{defaultExpanded:!0},a.createElement(d.Z,{expandIcon:a.createElement(v.Z,{className:n.expandIcon})},a.createElement(r.Z,{variant:"h5"},"Available plugins")),u?a.createElement(r.Z,{color:"error"},`${u}`):t?t.filter((n=>!(Z.isElectron&&n.cjsUrl)&&n.name.toLowerCase().includes(e.filterText.toLowerCase()))).map((n=>a.createElement(T,{key:n.name,plugin:n,model:e,adminMode:!!x}))):a.createElement(g.LoadingEllipses,null)))}))},93061:(e,n,t)=>{var a=t(57739);n.Z=void 0;var r=a(t(53948)),o=t(43188);n.Z=(0,r.default)((0,o.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check")},2266:(e,n,t)=>{var a=t(57739);n.Z=void 0;var r=a(t(53948)),o=t(43188);n.Z=(0,r.default)((0,o.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore")},75242:(e,n,t)=>{var a=t(57739);n.Z=void 0;var r=a(t(53948)),o=t(43188);n.Z=(0,r.default)((0,o.jsx)("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"InfoOutlined")},3418:(e,n,t)=>{var a=t(57739);n.Z=void 0;var r=a(t(53948)),o=t(43188);n.Z=(0,r.default)((0,o.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1z"}),"Lock")},57361:(e,n,t)=>{var a=t(57739);n.Z=void 0;var r=a(t(53948)),o=t(43188);n.Z=(0,r.default)((0,o.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person")},90228:(e,n,t)=>{t.d(n,{Z:()=>E});var a=t(55559),r=t(30984),o=t(66204),l=t(56317),s=t(58029),i=t(61125),c=t(57369),d=t(42870),u=t(86032),m=t(58109),p=t(95201);function g(e){return(0,p.ZP)("MuiAccordionSummary",e)}const Z=(0,m.Z)("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]);var v=t(43188);const f=["children","className","expandIcon","focusVisibleClassName","onClick"],b=(0,i.ZP)(d.Z,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,n)=>n.root})((({theme:e,ownerState:n})=>{const t={duration:e.transitions.duration.shortest};return(0,r.Z)({display:"flex",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],t),[`&.${Z.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Z.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${Z.disabled})`]:{cursor:"pointer"}},!n.disableGutters&&{[`&.${Z.expanded}`]:{minHeight:64}})})),h=(0,i.ZP)("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,n)=>n.content})((({theme:e,ownerState:n})=>(0,r.Z)({display:"flex",flexGrow:1,margin:"12px 0"},!n.disableGutters&&{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${Z.expanded}`]:{margin:"20px 0"}}))),x=(0,i.ZP)("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,n)=>n.expandIconWrapper})((({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${Z.expanded}`]:{transform:"rotate(180deg)"}}))),E=o.forwardRef((function(e,n){const t=(0,c.Z)({props:e,name:"MuiAccordionSummary"}),{children:i,className:d,expandIcon:m,focusVisibleClassName:p,onClick:Z}=t,E=(0,a.Z)(t,f),{disabled:y=!1,disableGutters:C,expanded:w,toggle:S}=o.useContext(u.Z),M=(0,r.Z)({},t,{expanded:w,disabled:y,disableGutters:C}),k=(e=>{const{classes:n,expanded:t,disabled:a,disableGutters:r}=e,o={root:["root",t&&"expanded",a&&"disabled",!r&&"gutters"],focusVisible:["focusVisible"],content:["content",t&&"expanded",!r&&"contentGutters"],expandIconWrapper:["expandIconWrapper",t&&"expanded"]};return(0,s.Z)(o,g,n)})(M);return(0,v.jsxs)(b,(0,r.Z)({focusRipple:!1,disableRipple:!0,disabled:y,component:"div","aria-expanded":w,className:(0,l.Z)(k.root,d),focusVisibleClassName:(0,l.Z)(k.focusVisible,p),onClick:e=>{S&&S(e),Z&&Z(e)},ref:n,ownerState:M},E,{children:[(0,v.jsx)(h,{className:k.content,ownerState:M,children:i}),m&&(0,v.jsx)(x,{className:k.expandIconWrapper,ownerState:M,children:m})]}))}))},2331:(e,n,t)=>{t.d(n,{Z:()=>Z});var a=t(30984),r=t(55559),o=t(66204),l=t(56317),s=t(58029),i=t(61125),c=t(57369),d=t(86636),u=t(17352),m=t(43188);const p=["className","raised"],g=(0,i.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,n)=>n.root})((()=>({overflow:"hidden"}))),Z=o.forwardRef((function(e,n){const t=(0,c.Z)({props:e,name:"MuiCard"}),{className:o,raised:i=!1}=t,d=(0,r.Z)(t,p),Z=(0,a.Z)({},t,{raised:i}),v=(e=>{const{classes:n}=e;return(0,s.Z)({root:["root"]},u.y,n)})(Z);return(0,m.jsx)(g,(0,a.Z)({className:(0,l.Z)(v.root,o),elevation:i?8:void 0,ref:n,ownerState:Z},d))}))},17352:(e,n,t)=>{t.d(n,{Z:()=>l,y:()=>o});var a=t(58109),r=t(95201);function o(e){return(0,r.ZP)("MuiCard",e)}const l=(0,a.Z)("MuiCard",["root"])},90617:(e,n,t)=>{t.d(n,{Z:()=>g});var a=t(55559),r=t(30984),o=t(66204),l=t(56317),s=t(58029),i=t(61125),c=t(57369),d=t(53200),u=t(43188);const m=["disableSpacing","className"],p=(0,i.ZP)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,!t.disableSpacing&&n.spacing]}})((({ownerState:e})=>(0,r.Z)({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}}))),g=o.forwardRef((function(e,n){const t=(0,c.Z)({props:e,name:"MuiCardActions"}),{disableSpacing:o=!1,className:i}=t,g=(0,a.Z)(t,m),Z=(0,r.Z)({},t,{disableSpacing:o}),v=(e=>{const{classes:n,disableSpacing:t}=e,a={root:["root",!t&&"spacing"]};return(0,s.Z)(a,d.s,n)})(Z);return(0,u.jsx)(p,(0,r.Z)({className:(0,l.Z)(v.root,i),ownerState:Z,ref:n},g))}))},53200:(e,n,t)=>{t.d(n,{Z:()=>l,s:()=>o});var a=t(58109),r=t(95201);function o(e){return(0,r.ZP)("MuiCardActions",e)}const l=(0,a.Z)("MuiCardActions",["root","spacing"])},75174:(e,n,t)=>{t.d(n,{Z:()=>g});var a=t(30984),r=t(55559),o=t(66204),l=t(56317),s=t(58029),i=t(61125),c=t(57369),d=t(65160),u=t(43188);const m=["className","component"],p=(0,i.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,n)=>n.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),g=o.forwardRef((function(e,n){const t=(0,c.Z)({props:e,name:"MuiCardContent"}),{className:o,component:i="div"}=t,g=(0,r.Z)(t,m),Z=(0,a.Z)({},t,{component:i}),v=(e=>{const{classes:n}=e;return(0,s.Z)({root:["root"]},d.N,n)})(Z);return(0,u.jsx)(p,(0,a.Z)({as:i,className:(0,l.Z)(v.root,o),ownerState:Z,ref:n},g))}))},65160:(e,n,t)=>{t.d(n,{N:()=>o,Z:()=>l});var a=t(58109),r=t(95201);function o(e){return(0,r.ZP)("MuiCardContent",e)}const l=(0,a.Z)("MuiCardContent",["root"])},66159:(e,n,t)=>{t.d(n,{Z:()=>y});var a=t(55559),r=t(30984),o=t(66204),l=t(56317),s=t(58029),i=t(40118),c=t(61125),d=t(57369),u=t(71948),m=t(81597),p=t(80013),g=t(29110),Z=t(4860),v=t(73330);const f={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},b=({theme:e,ownerState:n})=>{const t=(e=>f[e]||e)(n.color),a=(0,Z.DW)(e,`palette.${t}`,!1)||n.color,r=(0,Z.DW)(e,`palette.${t}Channel`);return"vars"in e&&r?`rgba(${r} / 0.4)`:(0,v.Fq)(a,.4)};var h=t(43188);const x=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],E=(0,c.ZP)(p.Z,{name:"MuiLink",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,n[`underline${(0,i.Z)(t.underline)}`],"button"===t.component&&n.button]}})((({theme:e,ownerState:n})=>(0,r.Z)({},"none"===n.underline&&{textDecoration:"none"},"hover"===n.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===n.underline&&(0,r.Z)({textDecoration:"underline"},"inherit"!==n.color&&{textDecorationColor:b({theme:e,ownerState:n})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===n.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${g.Z.focusVisible}`]:{outline:"auto"}}))),y=o.forwardRef((function(e,n){const t=(0,d.Z)({props:e,name:"MuiLink"}),{className:c,color:p="primary",component:Z="a",onBlur:v,onFocus:b,TypographyClasses:y,underline:C="always",variant:w="inherit",sx:S}=t,M=(0,a.Z)(t,x),{isFocusVisibleRef:k,onBlur:N,onFocus:P,ref:R}=(0,u.Z)(),[j,I]=o.useState(!1),A=(0,m.Z)(n,R),F=(0,r.Z)({},t,{color:p,component:Z,focusVisible:j,underline:C,variant:w}),V=(e=>{const{classes:n,component:t,focusVisible:a,underline:r}=e,o={root:["root",`underline${(0,i.Z)(r)}`,"button"===t&&"button",a&&"focusVisible"]};return(0,s.Z)(o,g.w,n)})(F);return(0,h.jsx)(E,(0,r.Z)({color:p,className:(0,l.Z)(V.root,c),classes:y,component:Z,onBlur:e=>{N(e),!1===k.current&&I(!1),v&&v(e)},onFocus:e=>{P(e),!0===k.current&&I(!0),b&&b(e)},ref:A,ownerState:F,variant:w,sx:[...Object.keys(f).includes(p)?[]:[{color:p}],...Array.isArray(S)?S:[S]]},M))}))},29110:(e,n,t)=>{t.d(n,{Z:()=>l,w:()=>o});var a=t(58109),r=t(95201);function o(e){return(0,r.ZP)("MuiLink",e)}const l=(0,a.Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"])}}]);
//# sourceMappingURL=1220.1d8d5a2e.chunk.js.map