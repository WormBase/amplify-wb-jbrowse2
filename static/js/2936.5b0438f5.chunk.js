"use strict";(self.webpackChunk_jbrowse_web=self.webpackChunk_jbrowse_web||[]).push([[2936],{22936:function(e,t,n){n.r(t),n.d(t,{doAfterAttach:function(){return f}});var r,a=n(32723),s=n(34795),i=n(81073),c=n(54685),o=n(40909);function u(e){return(r=r||(0,s.Z)((0,a.Z)().mark((function e(t){var n,r,s,c,u,f;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(0,i.getContainingTrack)(t),r=n.rpcSessionId,s=(0,i.getSession)(t),c=s.rpcManager,(u=(0,i.getContainingView)(t)).initialized&&!t.error&&!t.regionTooLarge){e.next=5;break}return e.abrupt("return");case 5:return t.setLoading(!0),e.next=8,c.call(r,"PileupGetReducedFeatures",{sessionId:r,regions:u.staticBlocks.contentBlocks,filterBy:(0,o.getSnapshot)(t.filterBy),adapterConfig:t.adapterConfig});case 8:f=e.sent,t.setChainData(f),t.setLoading(!1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t){function n(n){var r=e.ref;if(r){var a=r.getContext("2d");a&&e.chainData&&(a.clearRect(0,0,r.width,2*e.height),a.resetTransform(),a.scale(2,2),t(e,a,r.width,e.height),e.setLastDrawnOffsetPx(n.offsetPx),e.setLastDrawnBpPerPx(n.bpPerPx))}}(0,c.$X)(e,(0,s.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u(e);case 2:case"end":return t.stop()}}),t)}))),{delay:1e3}),(0,c.$X)(e,(0,s.Z)((0,a.Z)().mark((function t(){var r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(r=(0,i.getContainingView)(e)).bpPerPx!==e.lastDrawnBpPerPx&&n(r);case 2:case"end":return t.stop()}}),t)})))),(0,c.$X)(e,(0,s.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n((0,i.getContainingView)(e));case 2:case"end":return t.stop()}}),t)}))),{delay:1e3})}}}]);
//# sourceMappingURL=2936.5b0438f5.chunk.js.map