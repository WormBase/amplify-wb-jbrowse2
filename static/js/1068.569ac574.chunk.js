"use strict";(self.webpackChunk_jbrowse_web=self.webpackChunk_jbrowse_web||[]).push([[1068],{61068:function(e,t,n){n.r(t);var r=n(32723),a=n(96234),o=n(34795),s=n(30969),c=n(59071),i=n(33359),l=n(87535),u=n(33275),d=n(97517),f=n(49884),v=n(33248),p=n(87006),Z=n(96074),h=n(72097),m=n(53276),x=n(21918),g=n(90550),k=n(59767),b=n(81073),C=n(9077),w=n(89364),j=n(37574),S=(0,m.ZL)()({root:{width:"80em"},textAreaFont:{fontFamily:"Courier New"}});function y(e,t,n){return z.apply(this,arguments)}function z(){return(z=(0,o.Z)((0,r.Z)().mark((function e(t,n,a){var o,s,c,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(0,b.getSession)(t),s=o.rpcManager,c=(0,C.getConf)(t,["adapter"]),i="getFeatures",e.abrupt("return",s.call(i,"CoreGetFeatures",{adapterConfig:c,regions:n,sessionId:i,signal:a}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=(0,g.observer)((function(e){var t=e.model,n=e.handleClose,m=t.saveTrackFileFormatOptions(),g=S().classes,C=(0,s.useState)(),z=(0,a.Z)(C,2),R=z[0],F=z[1],M=(0,s.useState)(),N=(0,a.Z)(M,2),I=N[0],O=N[1],P=(0,s.useState)(Object.keys(m)[0]),_=(0,a.Z)(P,2),E=_[0],V=_[1],A=(0,s.useState)(""),H=(0,a.Z)(A,2),q=H[0],B=H[1];(0,s.useEffect)((function(){(0,o.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(0,b.getContainingView)(t),F(void 0),e.t0=O,e.next=6,y(t,n.visibleRegions||[]);case 6:e.t1=e.sent,(0,e.t0)(e.t1),e.next=14;break;case 10:e.prev=10,e.t2=e.catch(0),console.error(e.t2),F(e.t2);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),[t]),(0,s.useEffect)((function(){(0,o.Z)((0,r.Z)().mark((function e(){var n,a,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=(0,b.getContainingView)(t),a=(0,b.getSession)(t),I){e.next=5;break}return e.abrupt("return");case 5:return o=m[E]||{callback:function(){return"Unknown"}},e.t0=B,e.next=9,o.callback({features:I,session:a,assemblyName:n.visibleRegions[0].assemblyName});case 9:e.t1=e.sent,(0,e.t0)(e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(0),F(e.t2);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()}),[E,I,m,t]);var D=!I;return(0,j.jsxs)(k.Dialog,{maxWidth:"xl",open:!0,onClose:n,title:"Save track data",children:[(0,j.jsxs)(c.Z,{className:g.root,children:[R?(0,j.jsx)(k.ErrorMessage,{error:R}):null,I&&!I.length?(0,j.jsx)(i.Z,{children:"No features found"}):null,(0,j.jsxs)(l.Z,{children:[(0,j.jsx)(u.Z,{children:"File type"}),(0,j.jsx)(d.Z,{value:E,onChange:function(e){return V(e.target.value)},children:Object.entries(m).map((function(e){var t=(0,a.Z)(e,2),n=t[0],r=t[1];return(0,j.jsx)(f.Z,{value:n,control:(0,j.jsx)(v.Z,{}),label:r.name},n)}))})]}),(0,j.jsx)(p.Z,{variant:"outlined",multiline:!0,minRows:5,maxRows:15,fullWidth:!0,value:D?"Loading...":q.length>1e5?'Too large to view here, click "Download" to results to file':q,InputProps:{readOnly:!0,classes:{input:g.textAreaFont}}})]}),(0,j.jsxs)(Z.Z,{children:[(0,j.jsx)(h.Z,{onClick:function(){var e=m[E].extension,t=new Blob([q],{type:"text/plain;charset=utf-8"});(0,x.saveAs)(t,"jbrowse_track_data.".concat(e))},startIcon:(0,j.jsx)(w.Z,{}),children:"Download"}),(0,j.jsx)(h.Z,{variant:"contained",type:"submit",onClick:function(){return n()},children:"Close"})]})]})}));t.default=R},89364:function(e,t,n){var r=n(71600);t.Z=void 0;var a=r(n(48035)),o=n(37574),s=(0,a.default)((0,o.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"}),"GetApp");t.Z=s},33248:function(e,t,n){n.d(t,{Z:function(){return F}});var r=n(56666),a=n(31461),o=n(7896),s=n(30969),c=n(87023),i=n(26540),l=n(74262),u=n(71885),d=n(17363),f=n(17469),v=n(37574),p=(0,f.Z)((0,v.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),Z=(0,f.Z)((0,v.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),h=n(45971),m=(0,h.ZP)("span")({position:"relative",display:"flex"}),x=(0,h.ZP)(p)({transform:"scale(1)"}),g=(0,h.ZP)(Z)((function(e){var t=e.theme,n=e.ownerState;return(0,o.Z)({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},n.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})})}));var k=function(e){var t=e.checked,n=void 0!==t&&t,r=e.classes,a=void 0===r?{}:r,s=e.fontSize,c=(0,o.Z)({},e,{checked:n});return(0,v.jsxs)(m,{className:a.root,ownerState:c,children:[(0,v.jsx)(x,{fontSize:s,className:a.background,ownerState:c}),(0,v.jsx)(g,{fontSize:s,className:a.dot,ownerState:c})]})},b=n(24099),C=n(24938),w=n(94094),j=n(56694),S=["checked","checkedIcon","color","icon","name","onChange","size","className"],y=(0,h.ZP)(u.Z,{shouldForwardProp:function(e){return(0,h.FO)(e)||"classes"===e},name:"MuiRadio",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["color".concat((0,b.Z)(n.color))]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,o.Z)({color:(t.vars||t).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,l.Fq)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&(0,r.Z)({},"&.".concat(j.Z.checked),{color:(t.vars||t).palette[n.color].main}),(0,r.Z)({},"&.".concat(j.Z.disabled),{color:(t.vars||t).palette.action.disabled}))}));var z=(0,v.jsx)(k,{checked:!0}),R=(0,v.jsx)(k,{}),F=s.forwardRef((function(e,t){var n,r,l,u,f=(0,d.Z)({props:e,name:"MuiRadio"}),p=f.checked,Z=f.checkedIcon,h=void 0===Z?z:Z,m=f.color,x=void 0===m?"primary":m,g=f.icon,k=void 0===g?R:g,F=f.name,M=f.onChange,N=f.size,I=void 0===N?"medium":N,O=f.className,P=(0,a.Z)(f,S),_=(0,o.Z)({},f,{color:x,size:I}),E=function(e){var t=e.classes,n=e.color,r=e.size,a={root:["root","color".concat((0,b.Z)(n)),"medium"!==r&&"size".concat((0,b.Z)(r))]};return(0,o.Z)({},t,(0,i.Z)(a,j.l,t))}(_),V=(0,w.Z)(),A=p,H=(0,C.Z)(M,V&&V.onChange),q=F;return V&&("undefined"===typeof A&&(l=V.value,A="object"===typeof(u=f.value)&&null!==u?l===u:String(l)===String(u)),"undefined"===typeof q&&(q=V.name)),(0,v.jsx)(y,(0,o.Z)({type:"radio",icon:s.cloneElement(k,{fontSize:null!=(n=R.props.fontSize)?n:I}),checkedIcon:s.cloneElement(h,{fontSize:null!=(r=z.props.fontSize)?r:I}),ownerState:_,classes:E,name:q,checked:A,onChange:H,ref:t,className:(0,c.Z)(E.root,O)},P))}))},56694:function(e,t,n){n.d(t,{l:function(){return o}});var r=n(62746),a=n(2975);function o(e){return(0,a.Z)("MuiRadio",e)}var s=(0,r.Z)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]);t.Z=s},97517:function(e,t,n){var r=n(96234),a=n(7896),o=n(31461),s=n(30969),c=n(21098),i=n(87352),l=n(47707),u=n(93007),d=n(30570),f=n(37574),v=["actions","children","defaultValue","name","onChange","value"],p=s.forwardRef((function(e,t){var n=e.actions,p=e.children,Z=e.defaultValue,h=e.name,m=e.onChange,x=e.value,g=(0,o.Z)(e,v),k=s.useRef(null),b=(0,l.Z)({controlled:x,default:Z,name:"RadioGroup"}),C=(0,r.Z)(b,2),w=C[0],j=C[1];s.useImperativeHandle(n,(function(){return{focus:function(){var e=k.current.querySelector("input:not(:disabled):checked");e||(e=k.current.querySelector("input:not(:disabled)")),e&&e.focus()}}}),[]);var S=(0,i.Z)(t,k),y=(0,d.Z)(h),z=s.useMemo((function(){return{name:y,onChange:function(e){j(e.target.value),m&&m(e,e.target.value)},value:w}}),[y,m,j,w]);return(0,f.jsx)(u.Z.Provider,{value:z,children:(0,f.jsx)(c.Z,(0,a.Z)({role:"radiogroup",ref:S},g,{children:p}))})}));t.Z=p},93007:function(e,t,n){var r=n(30969).createContext(void 0);t.Z=r},94094:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(30969),a=n(93007);function o(){return r.useContext(a.Z)}}}]);
//# sourceMappingURL=1068.569ac574.chunk.js.map