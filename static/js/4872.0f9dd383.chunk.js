"use strict";(self.webpackChunk_jbrowse_web=self.webpackChunk_jbrowse_web||[]).push([[4872],{84872:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var s=a(41867),n=a(47192),r=a(3762),i=a(90872),o=a(47500),l=a(45294),c=a(90552),d=a(93764),u=a(23801),m=a(35421),h=a(22177),x=a(85084),p=a(33846),g=a(80838);const b=(0,n.ZL)()((e=>({importFormContainer:{padding:e.spacing(2)},button:{margin:e.spacing(2)},container:{padding:e.spacing(4)}}))),v=(0,r.observer)((function(e){var t;let{model:a}=e;const{classes:n}=b(),r=(0,i.getSession)(a),{assemblyNames:v,assemblyManager:f,textSearchManager:S}=r,{rankSearchResults:Z,error:w}=a,[y,k]=(0,s.useState)(v[0]),[j,W]=(0,s.useState)(),C=a.searchScope(y),N=f.get(y),R=v.length?null===N||void 0===N?void 0:N.error:"No configured assemblies",L=R||w,[G,M]=(0,s.useState)(""),T=null===N||void 0===N?void 0:N.regions,P=!!T,E=T?null===(t=T[0])||void 0===t?void 0:t.refName:"";async function I(e){const t=e.getLocation(),s=e.getTrackId();t&&(await a.navToLocString(t,y),s&&a.showTrack(s))}return(0,s.useEffect)((()=>{M(E)}),[E,y]),(0,g.jsxs)("div",{className:n.container,children:[L?(0,g.jsx)(m.ErrorMessage,{error:L}):null,(0,g.jsx)(o.Z,{className:n.importFormContainer,children:(0,g.jsx)("form",{onSubmit:async e=>{e.preventDefault(),a.setError(void 0),G&&await async function(e){try{var t;if((null===j||void 0===j?void 0:j.getDisplayString())===e&&j.hasLocation())await I(j);else if(null!==j&&void 0!==j&&null!==(t=j.results)&&void 0!==t&&t.length)a.setSearchResults(j.results,j.getLabel(),y);else{const[t,s]=(0,p.pG)(e,":"),n=(null===N||void 0===N?void 0:N.allRefNamesWithLowerCase)||[];if(n.includes(e)||n.includes(t)&&!Number.isNaN(Number.parseInt(s,10)))await a.navToLocString(e,y);else{const t=await(0,p.kx)({queryString:e,searchType:"exact",searchScope:C,rankSearchResults:Z,textSearchManager:S,assembly:N});t.length>1?a.setSearchResults(t,e.toLowerCase(),y):1===t.length?await I(t[0]):await a.navToLocString(e,y)}}}catch(s){console.error(s),r.notify("".concat(s),"warning")}}(G)},children:(0,g.jsxs)(l.ZP,{container:!0,spacing:1,justifyContent:"center",alignItems:"center",children:[(0,g.jsx)(l.ZP,{item:!0,children:(0,g.jsx)(c.Z,{children:(0,g.jsx)(m.AssemblySelector,{onChange:e=>k(e),localStorageKey:"lgv",session:r,selected:y})})}),(0,g.jsx)(l.ZP,{item:!0,children:y?R?(0,g.jsx)(h.Z,{style:{color:"red"}}):P?(0,g.jsx)(c.Z,{children:(0,g.jsx)(x.Z,{fetchResults:e=>(0,p.kx)({queryString:e,assembly:N,textSearchManager:S,rankSearchResults:Z,searchScope:C}),model:a,assemblyName:y,value:G,minWidth:270,onChange:e=>M(e),onSelect:e=>W(e),TextFieldProps:{variant:"outlined",helperText:"Enter sequence name, feature name, or location"}})}):(0,g.jsx)(d.Z,{size:20,disableShrink:!0}):null}),(0,g.jsxs)(l.ZP,{item:!0,children:[(0,g.jsx)(c.Z,{children:(0,g.jsx)(u.Z,{type:"submit",disabled:!G,className:n.button,variant:"contained",color:"primary",children:"Open"})}),(0,g.jsx)(c.Z,{children:(0,g.jsx)(u.Z,{disabled:!G,className:n.button,onClick:()=>{a.setError(void 0),a.showAllRegionsInAssembly(y)},variant:"contained",color:"secondary",children:"Show all regions in assembly"})})]})]})})})]})}))},47500:(e,t,a)=>{a.d(t,{Z:()=>w});var s=a(31461),n=a(7896),r=a(41867),i=a(66184),o=a(19092),l=a(88498),c=a(92705),d=a(8380),u=a(35283),m=a(15453),h=a(80838);const x=["className","component","disableGutters","fixed","maxWidth","classes"],p=(0,m.Z)(),g=(0,u.Z)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t["maxWidth".concat((0,o.Z)(String(a.maxWidth)))],a.fixed&&t.fixed,a.disableGutters&&t.disableGutters]}}),b=e=>(0,d.Z)({props:e,name:"MuiContainer",defaultTheme:p});var v=a(9931),f=a(75693),S=a(90293);const Z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=g,useThemeProps:a=b,componentName:d="MuiContainer"}=e,u=t((e=>{let{theme:t,ownerState:a}=e;return(0,n.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})}),(e=>{let{theme:t,ownerState:a}=e;return a.fixed&&Object.keys(t.breakpoints.values).reduce(((e,a)=>{const s=a,n=t.breakpoints.values[s];return 0!==n&&(e[t.breakpoints.up(s)]={maxWidth:"".concat(n).concat(t.breakpoints.unit)}),e}),{})}),(e=>{let{theme:t,ownerState:a}=e;return(0,n.Z)({},"xs"===a.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},a.maxWidth&&"xs"!==a.maxWidth&&{[t.breakpoints.up(a.maxWidth)]:{maxWidth:"".concat(t.breakpoints.values[a.maxWidth]).concat(t.breakpoints.unit)}})})),m=r.forwardRef((function(e,t){const r=a(e),{className:m,component:p="div",disableGutters:g=!1,fixed:b=!1,maxWidth:v="lg"}=r,f=(0,s.Z)(r,x),S=(0,n.Z)({},r,{component:p,disableGutters:g,fixed:b,maxWidth:v}),Z=((e,t)=>{const{classes:a,fixed:s,disableGutters:n,maxWidth:r}=e,i={root:["root",r&&"maxWidth".concat((0,o.Z)(String(r))),s&&"fixed",n&&"disableGutters"]};return(0,c.Z)(i,(e=>(0,l.Z)(t,e)),a)})(S,d);return(0,h.jsx)(u,(0,n.Z)({as:p,ownerState:S,className:(0,i.Z)(Z.root,m),ref:t},f))}));return m}({createStyledComponent:(0,f.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t["maxWidth".concat((0,v.Z)(String(a.maxWidth)))],a.fixed&&t.fixed,a.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,S.Z)({props:e,name:"MuiContainer"})}),w=Z}}]);
//# sourceMappingURL=4872.0f9dd383.chunk.js.map