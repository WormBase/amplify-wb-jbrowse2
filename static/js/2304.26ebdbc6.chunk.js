"use strict";(self.webpackChunk_jbrowse_web=self.webpackChunk_jbrowse_web||[]).push([[2304,8177],{75439:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var r=n(41867),a=n(93989),i=n(7229),o=n(3762),s=n(62877),c=n.n(s),l=n(25217),d=n.n(l),u=n(44047),m=n(90872);async function f(e,t){const n=(0,m.getSession)(t),{view:r}=t;try{if(!r)throw new Error("No view associated with this view anymore");await r.navToLocString(e)}catch(a){console.error(a),n.notify("".concat(a))}}var h=n(51590),p=n(41814),g=n(80838);function b(e){const{tag:t,model:n}=e;return(0,g.jsxs)(u.BaseCard,{...e,title:"Supplementary alignments",children:[(0,g.jsx)(h.Z,{children:"List of supplementary alignment locations"}),(0,g.jsx)("ul",{children:t.split(";").filter((e=>!!e)).map(((e,t)=>{const[r,i,o,s]=e.split(","),c=(0,p.getLengthOnRef)(s),l=Math.floor(c/5),d=+i,u=+i+c,m="".concat(r,":").concat(Math.max(1,d-l),"-").concat(u+l),h=d.toLocaleString("en-US"),b=u.toLocaleString("en-US"),v="".concat(r,":").concat(h,"-").concat(b," (").concat(o,") [").concat(c,"bp]");return(0,g.jsx)("li",{children:(0,g.jsx)(a.Z,{onClick:async e=>{e.preventDefault(),f(m,n)},href:"#",children:v})},"".concat(m,"-").concat(t))}))})]})}var v=n(45489),y=n(96614),x=n(83171),C=n(47192),w=n(47693);const R=(0,C.ZL)()({compact:{paddingRight:0,paddingTop:0,paddingBottom:0}}),S=["read paired","read mapped in proper pair","read unmapped","mate unmapped","read reverse strand","mate reverse strand","first in pair","second in pair","not primary alignment","read fails platform/vendor quality checks","read is PCR or optical duplicate","supplementary alignment"];function Z(e){const{classes:t}=R(),{feature:n}=e,{flags:r}=n;return(0,g.jsxs)(u.BaseCard,{...e,title:"Flags",children:[(0,g.jsx)(w.Z,{name:"Flag",value:r}),(0,g.jsx)(v.Z,{children:S.map(((e,n)=>{const a=r&1<<n,i="".concat(e,"_").concat(a);return(0,g.jsx)(y.Z,{control:(0,g.jsx)(x.Z,{className:t.compact,checked:Boolean(a),name:e,readOnly:!0}),label:e},i)}))})]})}const q=["clipPos","flags"],j={AM:"The smallest template-independent mapping quality in the template",AS:"Alignment score generated by aligner",BC:"Barcode sequence identifying the sample",BQ:"Offset to base alignment quality (BAQ)",BZ:"Phred quality of the unique molecular barcode bases in the {OX} tag",CB:"Cell identifier",CC:"Reference name of the next hit",CM:"Edit distance between the color sequence and the color reference (see also {NM})",CO:"Free-text comments",CP:"Leftmost coordinate of the next hit",CQ:"Color read base qualities",CR:"Cellular barcode sequence bases (uncorrected)",CS:"Color read sequence",CT:"Complete read annotation tag, used for consensus annotation dummy features",CY:"Phred quality of the cellular barcode sequence in the {CR} tag",E2:"The 2nd most likely base calls",FI:"The index of segment in the template",FS:"Segment suffix",FZ:"Flow signal intensities",GC:"Reserved for backwards compatibility reasons",GQ:"Reserved for backwards compatibility reasons",GS:"Reserved for backwards compatibility reasons",H0:"Number of perfect hits",H1:"Number of 1-difference hits (see also {NM})",H2:"Number of 2-difference hits",HI:"Query hit index",IH:"Query hit total count",LB:"Library",MC:"CIGAR string for mate/next segment",MD:"String encoding mismatched and deleted reference bases",MF:"Reserved for backwards compatibility reasons",MI:"Molecular identifier; a string that uniquely identifies the molecule from which the record was derived",ML:"Base modification probabilities",MM:"Base modifications / methylation ",MQ:"Mapping quality of the mate/next segment",NH:"Number of reported alignments that contain the query in the current record",NM:"Edit distance to the reference",OA:"Original alignment",OC:"Original CIGAR (deprecated; use {OA} instead)",OP:"Original mapping position (deprecated; use {OA} instead)",OQ:"Original base quality",OX:"Original unique molecular barcode bases",PG:"Program",PQ:"Phred likelihood of the template",PT:"Read annotations for parts of the padded read sequence",PU:"Platform unit",Q2:"Phred quality of the mate/next segment sequence in the {R2} tag",QT:"Phred quality of the sample barcode sequence in the {BC} tag",QX:"Quality score of the unique molecular identifier in the {RX} tag",R2:"Sequence of the mate/next segment in the template",RG:"Read group",RT:"Reserved for backwards compatibility reasons",RX:"Sequence bases of the (possibly corrected) unique molecular identifier",S2:"Reserved for backwards compatibility reasons",SA:"Other canonical alignments in a chimeric alignment",SM:"Template-independent mapping quality",SQ:"Reserved for backwards compatibility reasons",TC:"The number of segments in the template",TS:"Transcript strand",U2:"Phred probability of the 2nd call being wrong conditional on the best being wrong",UQ:"Phred likelihood of the segment, conditional on the mapping being correct"};function k(e){let{value:t}=e;const[n,a]=(0,r.useState)(!1),[i,o]=(0,r.useState)(!1),s=String(t);return s.length>100?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("button",{type:"button",onClick:()=>{c()(s),o(!0),setTimeout((()=>o(!1)),700)},children:i?"Copied to clipboard":"Copy"}),(0,g.jsx)("button",{type:"button",onClick:()=>a((e=>!e)),children:n?"Show less":"Show more"}),(0,g.jsx)("div",{children:n?s:"".concat(s.slice(0,100),"...")})]}):(0,g.jsx)("div",{children:s})}function M(e){let{locString:t,model:n}=e;return(0,g.jsx)(a.Z,{onClick:e=>{e.preventDefault(),f(t,n)},href:"#",children:t})}const T=(0,o.observer)((function(e){const{model:t}=e,n=d()(t.featureData),r=function(e,t){var n;return(null===(n=t.tags)||void 0===n?void 0:n[e])||t[e]}("SA",n);return(0,g.jsxs)(i.Z,{"data-testid":"alignment-side-drawer",children:[(0,g.jsx)(u.FeatureDetails,{...e,omit:q,descriptions:{...j,tags:j},feature:n,formatter:(e,n)=>"next_segment_position"===n?(0,g.jsx)(M,{model:t,locString:e}):(0,g.jsx)(k,{value:e})}),r?(0,g.jsx)(b,{model:t,tag:r}):null,void 0!==n.flags?(0,g.jsx)(Z,{feature:n,...e}):null]})}))},20875:(e,t,n)=>{n.d(t,{d:()=>l});var r=n(41867),a=n(32407),i=n(95809),o=n(89293),s=n(80838);function c(e){return e.substring(2).toLowerCase()}function l(e){const{children:t,disableReactTree:n=!1,mouseEvent:l="onClick",onClickAway:d,touchEvent:u="onTouchEnd"}=e,m=r.useRef(!1),f=r.useRef(null),h=r.useRef(!1),p=r.useRef(!1);r.useEffect((()=>(setTimeout((()=>{h.current=!0}),0),()=>{h.current=!1})),[]);const g=(0,a.Z)(t.ref,f),b=(0,i.Z)((e=>{const t=p.current;p.current=!1;const r=(0,o.Z)(f.current);if(!h.current||!f.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,r))return;if(m.current)return void(m.current=!1);let a;a=e.composedPath?e.composedPath().indexOf(f.current)>-1:!r.documentElement.contains(e.target)||f.current.contains(e.target),a||!n&&t||d(e)})),v=e=>n=>{p.current=!0;const r=t.props[e];r&&r(n)},y={ref:g};return!1!==u&&(y[u]=v(u)),r.useEffect((()=>{if(!1!==u){const e=c(u),t=(0,o.Z)(f.current),n=()=>{m.current=!0};return t.addEventListener(e,b),t.addEventListener("touchmove",n),()=>{t.removeEventListener(e,b),t.removeEventListener("touchmove",n)}}}),[b,u]),!1!==l&&(y[l]=v(l)),r.useEffect((()=>{if(!1!==l){const e=c(l),t=(0,o.Z)(f.current);return t.addEventListener(e,b),()=>{t.removeEventListener(e,b)}}}),[b,l]),(0,s.jsx)(r.Fragment,{children:r.cloneElement(t,y)})}},69625:(e,t,n)=>{n.d(t,{Z:()=>h});var r=n(31461),a=n(7896),i=n(41867),o=n(66184),s=n(92705),c=n(90293),l=n(75693),d=n(59968),u=n(80838);const m=["className","component","disableGutters","variant"],f=(0,l.ZP)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,a.Z)({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},"dense"===n.variant&&{minHeight:48})}),(e=>{let{theme:t,ownerState:n}=e;return"regular"===n.variant&&t.mixins.toolbar})),h=i.forwardRef((function(e,t){const n=(0,c.Z)({props:e,name:"MuiToolbar"}),{className:i,component:l="div",disableGutters:h=!1,variant:p="regular"}=n,g=(0,r.Z)(n,m),b=(0,a.Z)({},n,{component:l,disableGutters:h,variant:p}),v=(e=>{const{classes:t,disableGutters:n,variant:r}=e,a={root:["root",!n&&"gutters",r]};return(0,s.Z)(a,d.N,t)})(b);return(0,u.jsx)(f,(0,a.Z)({as:l,className:(0,o.Z)(v.root,i),ref:t,ownerState:b},g))}))},59968:(e,t,n)=>{n.d(t,{N:()=>i,Z:()=>o});var r=n(70101),a=n(88498);function i(e){return(0,a.Z)("MuiToolbar",e)}const o=(0,r.Z)("MuiToolbar",["root","gutters","regular","dense"])}}]);
//# sourceMappingURL=2304.26ebdbc6.chunk.js.map