"use strict";(self.webpackChunk_jbrowse_web=self.webpackChunk_jbrowse_web||[]).push([[6556],{36556:function(e,t,r){r.r(t),r.d(t,{default:function(){return v}});var n=r(41361),a=r(33028),u=r(32723),s=r(34795),c=r(9249),i=r(87371),o=r(45754),f=r(13820),l=r(20783),p=r(81450),d=r(26131),w=r(81073),h=r(95915),v=function(e,t,r){(0,o.Z)(v,e);var l=(0,f.Z)(v);function v(){var e;(0,c.Z)(this,v);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=l.call.apply(l,[this].concat(r))).windowSize=1e3,e.windowDelta=1e3,e.gcMode="content",e}return(0,i.Z)(v,[{key:"configure",value:function(){return(t=t||(0,s.Z)((0,u.Z)().mark((function e(){var t,r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.getSubAdapter)||void 0===t?void 0:t.call(this,this.getConf("sequenceAdapter"));case 2:if(r=e.sent){e.next=5;break}throw new Error("Error getting subadapter");case 5:return e.abrupt("return",r.dataAdapter);case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"getRefNames",value:function(){return(r=r||(0,s.Z)((0,u.Z)().mark((function e(){var t;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.configure();case 2:return t=e.sent,e.abrupt("return",t.getRefNames());case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"getFeatures",value:function(e,t){var r,c=this;return(0,d.ObservableCreate)((function(i){return(r=r||(0,s.Z)((0,u.Z)().mark((function r(s){var i,o,f,l,d,v,g,b,Z,k,x,y,m,S,z,A,C,_,q;return(0,u.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c.configure();case 2:if(o=r.sent,f=1===c.windowSize?1:c.windowSize/2,l=1===c.windowSize,d=e.start,v=e.end,d=Math.max(0,d-f),!((v+=f)<0||d>v)){r.next=11;break}return s.complete(),r.abrupt("return");case 11:return g=o.getFeatures((0,a.Z)((0,a.Z)({},e),{},{start:d,end:v}),t),r.next=14,(0,p.z)(g.pipe((0,h.q)()));case 14:for(b=r.sent,Z=(null===(i=b[0])||void 0===i?void 0:i.get("seq"))||"",k=f;k<Z.length-f;k+=c.windowDelta){x=l?Z[k]:Z.slice(k-f,k+f),y=0,m=0,S=0,z=(0,n.Z)(x);try{for(z.s();!(A=z.n()).done;)"c"===(C=A.value)||"C"===C?y++:"g"!==C&&"G"!==C||m++,"N"!==C&&S++}catch(u){z.e(u)}finally{z.f()}_=d,q=void 0,"content"===c.gcMode?q=(m+y)/(S||1):"skew"===c.gcMode&&(q=(m-y)/(m+y||1)),s.next(new w.SimpleFeature({uniqueId:"".concat(c.id,"_").concat(_+k),start:_+k,end:_+k+c.windowDelta,score:q}))}s.complete();case 18:case"end":return r.stop()}}),r)})))).apply(this,arguments)}))}},{key:"freeResources",value:function(){}}]),v}(l.BaseFeatureDataAdapter);v.capabilities=["hasLocalStats"]}}]);
//# sourceMappingURL=6556.2c96d666.chunk.js.map