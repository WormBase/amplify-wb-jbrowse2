{"version":3,"file":"static/js/7040.4f8be8f6.chunk.js","mappings":"sQAIoDA,EAAA,SAAAC,EAAAC,EAAAC,EAAAC,IAAAC,EAAAA,EAAAA,GAAAL,EAAAC,GAAA,IAAAK,GAAAC,EAAAA,EAAAA,GAAAP,GAAA,SAAAA,IAAA,IAAAQ,GAAAC,EAAAA,EAAAA,GAAA,KAAAT,GAAA,QAAAU,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,GAIlC,OAJkCP,EAAAF,EAAAU,KAAAC,MAAAX,EAAA,OAAAY,OAAAL,KAIxCM,YAAM,EAAAX,CAAA,CAyC+B,OAzC/BY,EAAAA,EAAAA,GAAApB,EAAA,EAAAqB,IAAA,WAAAC,MAAA,kBAAApB,EAAAA,IAAAqB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAEhB,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAA,OAAAL,EAAAA,EAAAA,KAAAM,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEmE,OAD3DN,EAAKO,KAAKC,cACVP,GAAOQ,EAAAA,EAAAA,cAAaF,KAAKG,QAAQ,sBAAuBV,GAAGI,EAAAE,KAAA,EAC9CL,EAAKU,SAAS,QAAO,OAA9B,OAAJT,EAAIE,EAAAQ,KAAAR,EAAAS,OAAA,SACHC,OAAOC,YACZb,EACGc,MAAM,cACNC,KAAI,SAAAC,GAAC,OAAIA,EAAEC,MAAM,IACjBC,QAAO,SAAAF,GAAC,QAAMA,CAAC,IACfD,KAAI,SAACI,GACJ,IAAAC,EAAuBD,EAAKL,MAAM,MAAKO,GAAAC,EAAAA,EAAAA,GAAAF,EAAA,GACvC,MAAO,CADIC,EAAA,IAAQA,EAAA,GAErB,MACH,wBAAAnB,EAAAqB,OAAA,GAAA1B,EAAA,WACFT,MAAA,KAAAN,UAAA,IAAAU,IAAA,QAAAC,MAAA,kBAAAnB,EAAAA,IAAAoB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAED,SAAA4B,IAAA,IAAAC,EAAA,YAAA9B,EAAAA,EAAAA,KAAAM,MAAA,SAAAyB,GAAA,cAAAA,EAAAvB,KAAAuB,EAAAtB,MAAA,OAMG,OALIC,KAAKf,SACRe,KAAKf,OAASe,KAAKsB,WAAWC,OAAM,SAAAC,GAElC,MADAJ,EAAKnC,YAASwC,EACRD,CACR,KACDH,EAAAf,OAAA,SACMN,KAAKf,QAAM,wBAAAoC,EAAAH,OAAA,GAAAC,EAAA,WACnBpC,MAAA,KAAAN,UAAA,IAAAU,IAAA,aAAAC,MAAA,kBAAAlB,EAAAA,IAAAmB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAED,SAAAmC,IAAA,IAAAC,EAAA,OAAArC,EAAAA,EAAAA,KAAAM,MAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAAA6B,EAAA7B,KAAA,EACwBC,KAAK6B,QAAO,OAArB,OAAPF,EAAOC,EAAAvB,KAAAuB,EAAAtB,OAAA,SACNC,OAAOuB,KAAKH,GAASjB,KAAI,SAAAqB,GAAO,MAAK,CAC1CA,QAAAA,EACAC,MAAO,EACPC,IAAKN,EAAQI,GACd,KAAE,wBAAAH,EAAAV,OAAA,GAAAQ,EAAA,WACJ3C,MAAA,KAAAN,UAAA,IAAAU,IAAA,YAAAC,MAED,WACE,MAAO,CAAC,CACV,GAAC,CAAAD,IAAA,gBAAAC,MAED,WAA8C,KAACtB,CAAA,CA7CG,CAEvBoE,EAAAA,Y","sources":["../../../plugins/sequence/src/ChromSizesAdapter/ChromSizesAdapter.ts"],"sourcesContent":["import {\n  RegionsAdapter,\n  BaseAdapter,\n} from '@jbrowse/core/data_adapters/BaseAdapter'\nimport { openLocation } from '@jbrowse/core/util/io'\n\nexport default class extends BaseAdapter implements RegionsAdapter {\n  // the map of refSeq to length\n  protected setupP?: Promise<Record<string, number>>\n\n  async setupPre() {\n    const pm = this.pluginManager\n    const file = openLocation(this.getConf('chromSizesLocation'), pm)\n    const data = await file.readFile('utf8')\n    return Object.fromEntries(\n      data\n        .split(/\\n|\\r\\n|\\r/)\n        .map(f => f.trim())\n        .filter(f => !!f)\n        .map((line: string) => {\n          const [name, length] = line.split('\\t')\n          return [name, +length]\n        }),\n    )\n  }\n\n  async setup() {\n    if (!this.setupP) {\n      this.setupP = this.setupPre().catch(e => {\n        this.setupP = undefined\n        throw e\n      })\n    }\n    return this.setupP\n  }\n\n  public async getRegions() {\n    const refSeqs = await this.setup()\n    return Object.keys(refSeqs).map(refName => ({\n      refName,\n      start: 0,\n      end: refSeqs[refName],\n    }))\n  }\n\n  public getHeader() {\n    return {}\n  }\n\n  public freeResources(/* { region } */): void {}\n}\n"],"names":["_default","_BaseAdapter","_setupPre","_setup","_getRegions","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","setupP","_createClass","key","value","_asyncToGenerator","_regeneratorRuntime","mark","_callee","pm","file","data","wrap","_context","prev","next","this","pluginManager","openLocation","getConf","readFile","sent","abrupt","Object","fromEntries","split","map","f","trim","filter","line","_line$split","_line$split2","_slicedToArray","stop","_callee2","_this2","_context2","setupPre","catch","e","undefined","_callee3","refSeqs","_context3","setup","keys","refName","start","end","BaseAdapter"],"sourceRoot":""}