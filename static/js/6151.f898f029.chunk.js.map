{"version":3,"file":"static/js/6151.f898f029.chunk.js","mappings":"0PAGA,MAAMA,GAAYC,EAAAA,EAAAA,KAAAA,EAAaC,IAAK,CAClCC,MAAO,CACLC,OAAQ,iBACRC,OAAQH,EAAMI,QAAQ,GACtB,OAAQ,CACNC,QAASL,EAAMI,QAAQ,SAKd,SAASE,EAAiBC,GAIrC,IAJsC,cACxCC,GAGDD,EACC,MAAM,QAAEE,GAAYX,IACpB,OACEY,EAAAA,EAAAA,KAAA,SAAOC,UAAWF,EAAQR,MAAMW,UAC9BF,EAAAA,EAAAA,KAAA,SAAAE,SACGJ,EAAcK,KAAIC,IAAA,IAAEC,EAAKC,GAAMF,EAAA,OAC9BG,EAAAA,EAAAA,MAAA,MAAAL,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAAE,SAAKG,KACLL,EAAAA,EAAAA,KAAA,MAAAE,SAAKI,KACLN,EAAAA,EAAAA,KAAA,MACEQ,MAAO,CACLC,MAAO,MACPC,WAAYJ,OANTD,EASJ,OAKf,CCxBA,MA0FA,GA1FmCM,EAAAA,EAAAA,WAAS,SAAAd,GAUxC,IAVkD,MACpDe,EAAK,YACLC,GAQDhB,EACC,MAAM,QAAEiB,EAAO,mBAAEC,GAAuBH,EAElCd,EAAgB,IAAIiB,EAAmBC,WAE7C,OACEhB,EAAAA,EAAAA,KAACiB,EAAAA,OAAM,CAACC,MAAI,EAACC,QAASN,EAAaO,MAAM,yBAAwBlB,UAC/DK,EAAAA,EAAAA,MAACc,EAAAA,EAAa,CAAAnB,SAAA,EACZF,EAAAA,EAAAA,KAACsB,EAAAA,EAAU,CAAApB,SAAC,+QAMZF,EAAAA,EAAAA,KAACsB,EAAAA,EAAU,CAAApB,SAAC,oIAIZK,EAAAA,EAAAA,MAAA,OAAKC,MAAO,CAAEf,OAAQ,IAAKS,SAAA,CACN,mBAAX,OAAPY,QAAO,IAAPA,OAAO,EAAPA,EAASS,OACRvB,EAAAA,EAAAA,KAAA,OAAAE,SACGJ,EAAc0B,QACbjB,EAAAA,EAAAA,MAAAkB,EAAAA,SAAA,CAAAvB,SAAA,CAAE,8CAEAF,EAAAA,EAAAA,KAACJ,EAAiB,CAChBE,cAAe,IAAIiB,EAAmBC,iBAI1CT,EAAAA,EAAAA,MAAAkB,EAAAA,SAAA,CAAAvB,SAAA,EACEF,EAAAA,EAAAA,KAACsB,EAAAA,EAAU,CAAApB,SAAC,uFAIZF,EAAAA,EAAAA,KAAC0B,EAAAA,EAAgB,CAACC,KAAM,UAI5B,KACe,iBAAX,OAAPb,QAAO,IAAPA,OAAO,EAAPA,EAASS,OACRvB,EAAAA,EAAAA,KAACJ,EAAiB,CAChBE,cAAe,CACb,CAAC,aAAc,OACf,CAAC,eAAgB,WAGnB,SAENS,EAAAA,EAAAA,MAACqB,EAAAA,EAAa,CAAA1B,SAAA,EACZF,EAAAA,EAAAA,KAAC6B,EAAAA,EAAM,CACLC,QAAQ,YACRC,QAASA,KACPnB,EAAMoB,eAAe,CAAET,KAAM,kBAC7BV,GAAa,EACbX,SACH,mBAGDF,EAAAA,EAAAA,KAAC6B,EAAAA,EAAM,CACLC,QAAQ,YACRC,QAASA,KACPnB,EAAMoB,eAAe,CAAET,KAAM,gBAC7BV,GAAa,EACbX,SACH,iBAGDF,EAAAA,EAAAA,KAAC6B,EAAAA,EAAM,CACLC,QAAQ,YACRG,MAAM,YACNF,QAASA,IAAMlB,IAAcX,SAC9B,kBAOX,G","sources":["../../../plugins/alignments/src/LinearPileupDisplay/components/ModificationsTable.tsx","../../../plugins/alignments/src/LinearPileupDisplay/components/ColorByModifications.tsx"],"sourcesContent":["import React from 'react'\nimport { makeStyles } from 'tss-react/mui'\n\nconst useStyles = makeStyles()(theme => ({\n  table: {\n    border: '1px solid #888',\n    margin: theme.spacing(4),\n    '& td': {\n      padding: theme.spacing(1),\n    },\n  },\n}))\n\nexport default function ModificationTable({\n  modifications,\n}: {\n  modifications: [string, string | undefined][]\n}) {\n  const { classes } = useStyles()\n  return (\n    <table className={classes.table}>\n      <tbody>\n        {modifications.map(([key, value]) => (\n          <tr key={key}>\n            <td>{key}</td>\n            <td>{value}</td>\n            <td\n              style={{\n                width: '1em',\n                background: value,\n              }}\n            />\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  )\n}\n","import React from 'react'\nimport { observer } from 'mobx-react'\nimport { ObservableMap } from 'mobx'\nimport {\n  Button,\n  CircularProgress,\n  DialogActions,\n  DialogContent,\n  Typography,\n} from '@mui/material'\nimport { Dialog } from '@jbrowse/core/ui'\nimport ModificationTable from './ModificationsTable'\n\nconst ColorByModificationsDialog = observer(function ({\n  model,\n  handleClose,\n}: {\n  model: {\n    setColorScheme: (arg: { type: string }) => void\n    modificationTagMap: ObservableMap<string, string>\n    colorBy?: { type: string }\n  }\n  handleClose: () => void\n}) {\n  const { colorBy, modificationTagMap } = model\n\n  const modifications = [...modificationTagMap.entries()]\n\n  return (\n    <Dialog open onClose={handleClose} title=\"Color by modifications\">\n      <DialogContent>\n        <Typography>\n          You can choose to color the modifications in the BAM/CRAM MM/ML\n          specification using this dialog. Choosing modifications colors the\n          modified positions and can color multiple modification types. Choosing\n          the methylation setting colors methylated and unmethylated CpG.\n        </Typography>\n        <Typography>\n          Note: you can revisit this dialog to see the current mapping of colors\n          to modification type for the modification coloring mode\n        </Typography>\n        <div style={{ margin: 20 }}>\n          {colorBy?.type === 'modifications' ? (\n            <div>\n              {modifications.length ? (\n                <>\n                  Current modification-type-to-color mapping\n                  <ModificationTable\n                    modifications={[...modificationTagMap.entries()]}\n                  />\n                </>\n              ) : (\n                <>\n                  <Typography>\n                    Note: color by modifications is already enabled. Loading\n                    current modifications...\n                  </Typography>\n                  <CircularProgress size={15} />\n                </>\n              )}\n            </div>\n          ) : null}\n          {colorBy?.type === 'methylation' ? (\n            <ModificationTable\n              modifications={[\n                ['methylated', 'red'],\n                ['unmethylated', 'blue'],\n              ]}\n            />\n          ) : null}\n        </div>\n        <DialogActions>\n          <Button\n            variant=\"contained\"\n            onClick={() => {\n              model.setColorScheme({ type: 'modifications' })\n              handleClose()\n            }}\n          >\n            Modifications\n          </Button>\n          <Button\n            variant=\"contained\"\n            onClick={() => {\n              model.setColorScheme({ type: 'methylation' })\n              handleClose()\n            }}\n          >\n            Methylation\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            onClick={() => handleClose()}\n          >\n            Cancel\n          </Button>\n        </DialogActions>\n      </DialogContent>\n    </Dialog>\n  )\n})\n\nexport default ColorByModificationsDialog\n"],"names":["useStyles","makeStyles","theme","table","border","margin","spacing","padding","ModificationTable","_ref","modifications","classes","_jsx","className","children","map","_ref2","key","value","_jsxs","style","width","background","observer","model","handleClose","colorBy","modificationTagMap","entries","Dialog","open","onClose","title","DialogContent","Typography","type","length","_Fragment","CircularProgress","size","DialogActions","Button","variant","onClick","setColorScheme","color"],"sourceRoot":""}