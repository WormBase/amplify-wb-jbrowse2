{"version":3,"file":"static/js/2004.4394ec3e.chunk.js","mappings":"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","sources":["../../../packages/core/ui/ResizeBar.tsx","../../../packages/core/ui/useResizeBar.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/faceted/FacetedHeader.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/faceted/FacetFilter.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/faceted/FacetFilters.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/faceted/FacetedSelector.tsx","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/faceted/util.ts","../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/faceted/FacetedDialog.tsx","../../../node_modules/@mui/base/ClickAwayListener/ClickAwayListener.js","../../../node_modules/@mui/material/Toolbar/Toolbar.js","../../../node_modules/@mui/material/Toolbar/toolbarClasses.js"],"sourcesContent":["import React, { useState, useCallback } from 'react'\nimport { makeStyles } from 'tss-react/mui'\n\n// locals\nimport ResizeHandle from './ResizeHandle'\n\nconst useStyles = makeStyles()(theme => ({\n  resizeBar: {\n    background: theme.palette.action.disabledBackground,\n    height: 12,\n    position: 'relative',\n    overflow: 'hidden',\n  },\n  tick: {\n    position: 'absolute',\n    height: '100%',\n    pointerEvents: 'none',\n    background: theme.palette.action.disabled,\n    width: 1,\n  },\n  hiddenTick: {\n    position: 'absolute',\n    height: '100%',\n    width: 5,\n  },\n}))\n\nfunction Tick({\n  left,\n  scrollLeft,\n  idx,\n  onDrag,\n  onMouseDown,\n}: {\n  idx: number\n  left: number\n  scrollLeft: number\n  onMouseDown: (event: React.MouseEvent) => void\n  onDrag: (\n    lastFrameDistance: number,\n    totalDistance: number,\n    idx: number,\n  ) => void\n}) {\n  const { classes } = useStyles()\n  const onDragCallback = useCallback(\n    (lastFrameDistance: number, totalDistance: number) =>\n      onDrag(lastFrameDistance, totalDistance, idx),\n    [idx, onDrag],\n  )\n\n  // has an invisible wider than tick mark (1px) clickable area (5px)\n  return (\n    <>\n      <ResizeHandle\n        onDrag={onDragCallback}\n        onMouseDown={onMouseDown}\n        vertical\n        className={classes.hiddenTick}\n        style={{ left: left - scrollLeft - 2.5 }}\n      />\n      <div style={{ left: left - scrollLeft }} className={classes.tick} />\n    </>\n  )\n}\n\nexport default function ResizeBar({\n  widths,\n  setWidths,\n  checkbox,\n  scrollLeft = 0,\n}: {\n  widths: number[]\n  setWidths: (arg: number[]) => void\n  checkbox?: boolean\n  scrollLeft?: number\n}) {\n  const { classes } = useStyles()\n  const offsets = [] as number[]\n  const [initial, setInitial] = useState<number[]>()\n  let init = checkbox ? 52 : 0\n  for (let i = 0; i < widths.length; i++) {\n    const width = widths[i]\n    offsets[i] = width + init\n    init += width\n  }\n\n  return (\n    <div className={classes.resizeBar}>\n      {offsets.map((left, i) => (\n        <Tick\n          key={i}\n          onMouseDown={() => {\n            setInitial([...widths])\n          }}\n          left={i === offsets.length - 1 ? left - 3 : left}\n          onDrag={(_: number, totalDistance: number, idx: number) => {\n            const newWidths = [...widths]\n            // mui doesn't allow columns smaller than 50\n            newWidths[idx] = Math.max(initial![idx] - totalDistance, 50)\n            setWidths(newWidths)\n          }}\n          idx={i}\n          scrollLeft={scrollLeft}\n        />\n      ))}\n    </div>\n  )\n}\n","import { useEffect, useRef, useState } from 'react'\n\nexport function useResizeBar() {\n  const ref = useRef<HTMLDivElement>(null)\n  const [scrollLeft, setScrollLeft] = useState(0)\n  useEffect(() => {\n    const timer = setInterval(() => {\n      const elt = ref.current?.querySelector('.MuiDataGrid-virtualScroller')\n      if (elt) {\n        setScrollLeft(elt.scrollLeft)\n      }\n    }, 100)\n    return () => {\n      clearInterval(timer)\n    }\n  }, [])\n  return { ref, scrollLeft }\n}\n","import React, { useState } from 'react'\nimport { Grid, IconButton, InputAdornment, TextField } from '@mui/material'\nimport { Menu } from '@jbrowse/core/ui'\n\n// icons\nimport ClearIcon from '@mui/icons-material/Clear'\nimport MoreVert from '@mui/icons-material/MoreVert'\n\n// locals\nimport ShoppingCart from '../ShoppingCart'\nimport { HierarchicalTrackSelectorModel } from '../../model'\n\nexport default function FacetedHeader({\n  setFilterText,\n  setUseShoppingCart,\n  setShowSparse,\n  setShowFilters,\n  setShowOptions,\n  showOptions,\n  showSparse,\n  showFilters,\n  useShoppingCart,\n  filterText,\n  model,\n}: {\n  setFilterText: (arg: string) => void\n  setUseShoppingCart: (arg: boolean) => void\n  setShowSparse: (arg: boolean) => void\n  setShowFilters: (arg: boolean) => void\n  setShowOptions: (arg: boolean) => void\n  filterText: string\n  showOptions: boolean\n  useShoppingCart: boolean\n  showSparse: boolean\n  showFilters: boolean\n  model: HierarchicalTrackSelectorModel\n}) {\n  const [anchorEl, setAnchorEl] = useState<HTMLElement | null>(null)\n\n  return (\n    <>\n      <Grid container spacing={4} alignItems=\"center\">\n        <Grid item>\n          <TextField\n            label=\"Search...\"\n            value={filterText}\n            onChange={event => setFilterText(event.target.value)}\n            InputProps={{\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <IconButton onClick={() => setFilterText('')}>\n                    <ClearIcon />\n                  </IconButton>\n                </InputAdornment>\n              ),\n            }}\n          />\n        </Grid>\n\n        <Grid item>\n          <IconButton onClick={event => setAnchorEl(event.currentTarget)}>\n            <MoreVert />\n          </IconButton>\n        </Grid>\n        <Grid item>\n          <ShoppingCart model={model} />\n        </Grid>\n      </Grid>\n      <Menu\n        anchorEl={anchorEl}\n        open={!!anchorEl}\n        onClose={() => setAnchorEl(null)}\n        onMenuItemClick={(_event, callback) => {\n          callback()\n          setAnchorEl(null)\n        }}\n        menuItems={[\n          {\n            label: 'Add tracks to selection instead of turning them on/off',\n            onClick: () => setUseShoppingCart(!useShoppingCart),\n            type: 'checkbox',\n            checked: useShoppingCart,\n          },\n          {\n            label: 'Show sparse metadata columns',\n            onClick: () => setShowSparse(!showSparse),\n            checked: showSparse,\n            type: 'checkbox',\n          },\n          {\n            label: 'Show facet filters',\n            onClick: () => setShowFilters(!showFilters),\n            checked: showFilters,\n            type: 'checkbox',\n          },\n          {\n            label: 'Show extra table options',\n            onClick: () => setShowOptions(!showOptions),\n            checked: showOptions,\n            type: 'checkbox',\n          },\n        ]}\n      />\n    </>\n  )\n}\n","import React, { useState } from 'react'\nimport {\n  Typography,\n  FormControl,\n  Select,\n  IconButton,\n  Tooltip,\n} from '@mui/material'\nimport { makeStyles } from 'tss-react/mui'\n\n// icon\nimport ClearIcon from '@mui/icons-material/Clear'\nimport MinimizeIcon from '@mui/icons-material/Minimize'\nimport AddIcon from '@mui/icons-material/Add'\nimport { coarseStripHTML } from '@jbrowse/core/util'\n\nconst useStyles = makeStyles()(theme => ({\n  facet: {\n    margin: 0,\n    marginLeft: theme.spacing(2),\n  },\n  select: {\n    marginBottom: theme.spacing(2),\n  },\n}))\n\nfunction ClearButton({ onClick }: { onClick: () => void }) {\n  return (\n    <Tooltip title=\"Clear selection on this facet filter\">\n      <IconButton onClick={() => onClick()} size=\"small\">\n        <ClearIcon />\n      </IconButton>\n    </Tooltip>\n  )\n}\n\nfunction ExpandButton({\n  visible,\n  onClick,\n}: {\n  visible: boolean\n  onClick: () => void\n}) {\n  return (\n    <Tooltip title=\"Minimize/expand this facet filter\">\n      <IconButton onClick={() => onClick()} size=\"small\">\n        {visible ? <MinimizeIcon /> : <AddIcon />}\n      </IconButton>\n    </Tooltip>\n  )\n}\n\nexport default function FacetFilter({\n  column,\n  vals,\n  width,\n  dispatch,\n  filters,\n}: {\n  column: { field: string }\n  vals: [string, number][]\n  width: number\n  dispatch: (arg: { key: string; val: string[] }) => void\n  filters: Record<string, string[]>\n}) {\n  const { classes } = useStyles()\n  const [visible, setVisible] = useState(true)\n  return (\n    <FormControl key={column.field} className={classes.facet} style={{ width }}>\n      <div style={{ display: 'flex' }}>\n        <Typography>{column.field}</Typography>\n        <ClearButton onClick={() => dispatch({ key: column.field, val: [] })} />\n        <ExpandButton visible={visible} onClick={() => setVisible(!visible)} />\n      </div>\n      {visible ? (\n        <Select\n          multiple\n          native\n          className={classes.select}\n          value={filters[column.field]}\n          onChange={event => {\n            dispatch({\n              key: column.field,\n              // @ts-expect-error\n              val: [...event.target.options]\n                .filter(opt => opt.selected)\n                .map(opt => opt.value),\n            })\n          }}\n        >\n          {vals\n            .sort((a, b) => a[0].localeCompare(b[0]))\n            .map(([name, count]) => (\n              <option key={name} value={name}>\n                {coarseStripHTML(name)} ({count})\n              </option>\n            ))}\n        </Select>\n      ) : null}\n    </FormControl>\n  )\n}\n","import React from 'react'\nimport FacetFilter from './FacetFilter'\n\nexport default function FacetFilters({\n  rows,\n  columns,\n  dispatch,\n  filters,\n  width,\n}: {\n  rows: Record<string, unknown>[]\n  filters: Record<string, string[]>\n  columns: { field: string }[]\n  dispatch: (arg: { key: string; val: string[] }) => void\n  width: number\n}) {\n  const facets = columns.slice(1)\n  const uniqs = new Map(\n    facets.map(f => [f.field, new Map<string, number>()] as const),\n  )\n\n  // this code \"stages the facet filters\" in order that the user has selected\n  // them, which relies on the js behavior that the order of the returned keys is\n  // related to the insertion order.\n  const filterKeys = Object.keys(filters)\n  const facetKeys = facets.map(f => f.field)\n  const ret = new Set<string>()\n  for (const entry of filterKeys) {\n    // give non-empty filters priority\n    if (filters[entry]?.length) {\n      ret.add(entry)\n    }\n  }\n  for (const entry of facetKeys) {\n    ret.add(entry)\n  }\n\n  let currentRows = rows\n  for (const facet of ret) {\n    const elt = uniqs.get(facet)!\n    for (const row of currentRows) {\n      const key = `${row[facet] || ''}`\n      const val = elt.get(key)\n      // we don't allow filtering on empty yet\n      if (key) {\n        if (val === undefined) {\n          elt.set(key, 1)\n        } else {\n          elt.set(key, val + 1)\n        }\n      }\n    }\n    const filter = filters[facet]?.length ? new Set(filters[facet]) : undefined\n    currentRows = currentRows.filter(row => {\n      return filter !== undefined ? filter.has(row[facet] as string) : true\n    })\n  }\n\n  return (\n    <div>\n      {facets.map(column => {\n        return (\n          <FacetFilter\n            key={column.field}\n            vals={[...uniqs.get(column.field)!]}\n            column={column}\n            width={width}\n            dispatch={dispatch}\n            filters={filters}\n          />\n        )\n      })}\n    </div>\n  )\n}\n","import React, { useMemo, useState, useEffect, useReducer } from 'react'\nimport { IconButton } from '@mui/material'\nimport { transaction } from 'mobx'\nimport { observer } from 'mobx-react'\nimport { getRoot, resolveIdentifier } from 'mobx-state-tree'\nimport { DataGrid, GridCellParams, GridToolbar } from '@mui/x-data-grid'\n\n// jbrowse\nimport { getTrackName } from '@jbrowse/core/util/tracks'\nimport { ResizeHandle } from '@jbrowse/core/ui'\nimport SanitizedHTML from '@jbrowse/core/ui/SanitizedHTML'\nimport JBrowseMenu from '@jbrowse/core/ui/Menu'\nimport ResizeBar from '@jbrowse/core/ui/ResizeBar'\nimport {\n  getEnv,\n  getSession,\n  measureGridWidth,\n  useDebounce,\n  useLocalStorage,\n} from '@jbrowse/core/util'\nimport {\n  AnyConfigurationModel,\n  readConfObject,\n} from '@jbrowse/core/configuration'\nimport { useResizeBar } from '@jbrowse/core/ui/useResizeBar'\nimport { makeStyles } from 'tss-react/mui'\n\n// icons\nimport MoreHoriz from '@mui/icons-material/MoreHoriz'\n\n// locals\nimport { HierarchicalTrackSelectorModel } from '../../model'\nimport { matches } from '../../util'\nimport FacetedHeader from './FacetedHeader'\nimport FacetFilters from './FacetFilters'\nimport { getRootKeys } from './util'\n\nconst nonMetadataKeys = ['category', 'adapter', 'description'] as const\n\nexport interface InfoArgs {\n  target: HTMLElement\n  id: string\n  conf: AnyConfigurationModel\n}\n\nconst useStyles = makeStyles()({\n  cell: {\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n  },\n})\n\nconst frac = 0.75\n\nconst FacetedSelector = observer(function FacetedSelector({\n  model,\n}: {\n  model: HierarchicalTrackSelectorModel\n}) {\n  const { classes } = useStyles()\n  const { view, selection } = model\n  const { pluginManager } = getEnv(model)\n  const { ref, scrollLeft } = useResizeBar()\n\n  const [filterText, setFilterText] = useState('')\n  const [showOptions, setShowOptions] = useLocalStorage(\n    'facet-showTableOptions',\n    false,\n  )\n  const [info, setInfo] = useState<InfoArgs>()\n  const [useShoppingCart, setUseShoppingCart] = useState(false)\n  const [showSparse, setShowSparse] = useLocalStorage('facet-showSparse', false)\n  const [showFilters, setShowFilters] = useLocalStorage(\n    'facet-showFilters',\n    true,\n  )\n  const [panelWidth, setPanelWidth] = useLocalStorage('facet-panelWidth', 400)\n  const session = getSession(model)\n  const filterDebounced = useDebounce(filterText, 400)\n  const tracks = view.tracks as AnyConfigurationModel[]\n  const [filters, dispatch] = useReducer(\n    (\n      state: Record<string, string[]>,\n      update: { key: string; val: string[] },\n    ) => ({ ...state, [update.key]: update.val }),\n    {},\n  )\n\n  const rows = useMemo(() => {\n    // metadata is spread onto the object for easier access and sorting\n    // by the mui data grid (it's unable to sort by nested objects)\n    return model.trackConfigurations\n      .filter(conf => matches(filterDebounced, conf, session))\n      .map(track => {\n        const metadata = readConfObject(track, 'metadata')\n        return {\n          id: track.trackId,\n          conf: track,\n          name: getTrackName(track, session),\n          category: readConfObject(track, 'category')?.join(', '),\n          adapter: readConfObject(track, 'adapter')?.type,\n          description: readConfObject(track, 'description'),\n          metadata,\n          ...metadata,\n        }\n      })\n  }, [model, filterDebounced, session])\n\n  const filteredNonMetadataKeys = useMemo(\n    () =>\n      nonMetadataKeys.filter(f =>\n        showSparse ? true : rows.map(r => r[f]).filter(f => !!f).length > 5,\n      ),\n    [showSparse, rows],\n  )\n\n  const filteredMetadataKeys = useMemo(\n    () =>\n      [...new Set(rows.flatMap(row => getRootKeys(row.metadata)))].filter(f =>\n        showSparse\n          ? true\n          : rows.map(r => r.metadata[f]).filter(f => !!f).length > 5,\n      ),\n    [showSparse, rows],\n  )\n\n  const fields = useMemo(\n    () => ['name', ...filteredNonMetadataKeys, ...filteredMetadataKeys],\n    [filteredNonMetadataKeys, filteredMetadataKeys],\n  )\n\n  const [widths, setWidths] = useState({\n    name:\n      measureGridWidth(\n        rows.map(r => r.name),\n        { maxWidth: 500, stripHTML: true },\n      ) + 15,\n    ...Object.fromEntries(\n      filteredNonMetadataKeys.map(e => [\n        e,\n        measureGridWidth(\n          rows.map(r => r[e]),\n          { maxWidth: 400, stripHTML: true },\n        ),\n      ]),\n    ),\n    ...Object.fromEntries(\n      filteredMetadataKeys.map(e => [\n        e,\n        measureGridWidth(\n          rows.map(r => r.metadata[e]),\n          { maxWidth: 400, stripHTML: true },\n        ),\n      ]),\n    ),\n  } as Record<string, number | undefined>)\n\n  const [visible, setVisible] = useState(\n    Object.fromEntries(fields.map(c => [c, true])),\n  )\n  useEffect(() => {\n    setVisible(visible => ({\n      ...Object.fromEntries(fields.map(c => [c, true])),\n      ...visible,\n    }))\n  }, [fields])\n\n  useEffect(() => {\n    setWidths(widths => ({\n      name: widths.name,\n      ...Object.fromEntries(\n        filteredNonMetadataKeys\n          .filter(f => visible[f])\n          .map(e => [\n            e,\n            measureGridWidth(\n              rows.map(r => r[e]),\n              { stripHTML: true, maxWidth: 400 },\n            ),\n          ]),\n      ),\n      ...Object.fromEntries(\n        filteredMetadataKeys\n          .filter(f => visible[f])\n          .map(e => [\n            e,\n            measureGridWidth(\n              rows.map(r => r.metadata[e]),\n              { stripHTML: true, maxWidth: 400 },\n            ),\n          ]),\n      ),\n    }))\n  }, [filteredMetadataKeys, visible, filteredNonMetadataKeys, showSparse, rows])\n\n  const widthsDebounced = useDebounce(widths, 200)\n\n  const columns = [\n    {\n      field: 'name',\n      hideable: false,\n      renderCell: (params: GridCellParams) => {\n        const { value, id, row } = params\n        return (\n          <div className={classes.cell}>\n            <SanitizedHTML html={value as string} />\n            <IconButton\n              onClick={e =>\n                setInfo({\n                  target: e.currentTarget,\n                  id: id as string,\n                  conf: row.conf,\n                })\n              }\n            >\n              <MoreHoriz />\n            </IconButton>\n          </div>\n        )\n      },\n      width: widthsDebounced.name ?? 100,\n    },\n    ...filteredNonMetadataKeys.map(e => ({\n      field: e,\n      width: widthsDebounced[e] ?? 100,\n      renderCell: (params: GridCellParams) => {\n        const { value } = params\n        return (\n          <div className={classes.cell}>\n            {value ? <SanitizedHTML html={value as string} /> : ''}\n          </div>\n        )\n      },\n    })),\n    ...filteredMetadataKeys.map(e => ({\n      field: e,\n      width: widthsDebounced[e] ?? 100,\n      renderCell: (params: GridCellParams) => {\n        const { value } = params\n        return (\n          <div className={classes.cell}>\n            {value ? <SanitizedHTML html={value as string} /> : ''}\n          </div>\n        )\n      },\n    })),\n  ]\n\n  const shownTrackIds = new Set(\n    tracks.map(t => t.configuration.trackId as string),\n  )\n\n  const arrFilters = Object.entries(filters)\n    .filter(f => f[1].length > 0)\n    .map(([key, val]) => [key, new Set<string>(val)] as const)\n  const filteredRows = rows.filter(row =>\n    arrFilters.every(([key, val]) => val.has(row[key] as string)),\n  )\n  return (\n    <>\n      {info ? (\n        <JBrowseMenu\n          anchorEl={info?.target}\n          menuItems={session.getTrackActionMenuItems?.(info.conf) || []}\n          onMenuItemClick={(_event, callback) => {\n            callback()\n            setInfo(undefined)\n          }}\n          open={!!info}\n          onClose={() => setInfo(undefined)}\n        />\n      ) : null}\n      <FacetedHeader\n        setShowSparse={setShowSparse}\n        setShowFilters={setShowFilters}\n        setShowOptions={setShowOptions}\n        setFilterText={setFilterText}\n        setUseShoppingCart={setUseShoppingCart}\n        showFilters={showFilters}\n        showSparse={showSparse}\n        showOptions={showOptions}\n        filterText={filterText}\n        useShoppingCart={useShoppingCart}\n        model={model}\n      />\n\n      <div\n        ref={ref}\n        style={{\n          display: 'flex',\n          overflow: 'hidden',\n          height: window.innerHeight * frac,\n          width: window.innerWidth * frac,\n        }}\n      >\n        <div\n          style={{\n            height: window.innerHeight * frac,\n            width: window.innerWidth * frac - (showFilters ? panelWidth : 0),\n          }}\n        >\n          <ResizeBar\n            checkbox\n            widths={Object.values(widths).map(f => f ?? 100)}\n            setWidths={newWidths =>\n              setWidths(\n                Object.fromEntries(\n                  Object.entries(widths).map((entry, idx) => [\n                    entry[0],\n                    newWidths[idx],\n                  ]),\n                ),\n              )\n            }\n            scrollLeft={scrollLeft}\n          />\n          <DataGrid\n            rows={filteredRows}\n            columnVisibilityModel={visible}\n            onColumnVisibilityModelChange={newModel => setVisible(newModel)}\n            columnHeaderHeight={35}\n            checkboxSelection\n            disableRowSelectionOnClick\n            keepNonExistentRowsSelected\n            onRowSelectionModelChange={userSelectedIds => {\n              if (!useShoppingCart) {\n                const a1 = shownTrackIds\n                const a2 = new Set(userSelectedIds as string[])\n                // synchronize the user selection with the view\n                // see share https://stackoverflow.com/a/33034768/2129219\n                transaction(() => {\n                  ;[...a1].filter(x => !a2.has(x)).map(t => view.hideTrack(t))\n                  ;[...a2].filter(x => !a1.has(x)).map(t => view.showTrack(t))\n                })\n              } else {\n                const root = getRoot(model)\n                const schema = pluginManager.pluggableConfigSchemaType('track')\n                const tracks = userSelectedIds.map(id =>\n                  resolveIdentifier(schema, root, id),\n                )\n                model.setSelection(tracks)\n              }\n            }}\n            rowSelectionModel={\n              useShoppingCart\n                ? selection.map(s => s.trackId)\n                : [...shownTrackIds]\n            }\n            slots={{ toolbar: showOptions ? GridToolbar : null }}\n            slotProps={{\n              toolbar: { printOptions: { disableToolbarButton: true } },\n            }}\n            columns={columns}\n            rowHeight={25}\n          />\n        </div>\n\n        {showFilters ? (\n          <>\n            <ResizeHandle\n              vertical\n              onDrag={dist => setPanelWidth(panelWidth - dist)}\n              style={{ marginLeft: 5, background: 'grey', width: 5 }}\n            />\n            <div\n              style={{\n                width: panelWidth,\n                overflowY: 'auto',\n                overflowX: 'hidden',\n              }}\n            >\n              <FacetFilters\n                width={panelWidth - 10}\n                rows={rows}\n                columns={columns}\n                dispatch={dispatch}\n                filters={filters}\n              />\n            </div>\n          </>\n        ) : null}\n      </div>\n    </>\n  )\n})\n\nexport default FacetedSelector\n","export function getRootKeys(obj: Record<string, unknown>) {\n  return Object.entries(obj)\n    .map(([key, val]) => (typeof val === 'string' ? key : ''))\n    .filter(f => !!f)\n}\n","import React from 'react'\nimport { DialogContent } from '@mui/material'\nimport { Dialog } from '@jbrowse/core/ui'\nimport { observer } from 'mobx-react'\n\n// locals\nimport { HierarchicalTrackSelectorModel } from '../../model'\nimport FacetedSelector from './FacetedSelector'\n\nconst FacetedTrackSelectorDialog = observer(function (props: {\n  handleClose: () => void\n  model: HierarchicalTrackSelectorModel\n}) {\n  const { handleClose } = props\n  return (\n    <Dialog\n      open\n      onClose={handleClose}\n      maxWidth=\"xl\"\n      title=\"Faceted track selector\"\n    >\n      <DialogContent>\n        <FacetedSelector {...props} />\n      </DialogContent>\n    </Dialog>\n  )\n})\n\nexport default FacetedTrackSelectorDialog\n","'use client';\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { elementAcceptingRef, exactProp, unstable_ownerDocument as ownerDocument, unstable_useForkRef as useForkRef, unstable_useEventCallback as useEventCallback } from '@mui/utils';\n\n// TODO: return `EventHandlerName extends `on${infer EventName}` ? Lowercase<EventName> : never` once generatePropTypes runs with TS 4.1\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nfunction mapEventPropToEvent(eventProp) {\n  return eventProp.substring(2).toLowerCase();\n}\nfunction clickedRootScrollbar(event, doc) {\n  return doc.documentElement.clientWidth < event.clientX || doc.documentElement.clientHeight < event.clientY;\n}\n/**\n * Listen for click events that occur somewhere in the document, outside of the element itself.\n * For instance, if you need to hide a menu when people click anywhere else on your page.\n *\n * Demos:\n *\n * - [Click-Away Listener](https://mui.com/base-ui/react-click-away-listener/)\n *\n * API:\n *\n * - [ClickAwayListener API](https://mui.com/base-ui/react-click-away-listener/components-api/#click-away-listener)\n */\nfunction ClickAwayListener(props) {\n  const {\n    children,\n    disableReactTree = false,\n    mouseEvent = 'onClick',\n    onClickAway,\n    touchEvent = 'onTouchEnd'\n  } = props;\n  const movedRef = React.useRef(false);\n  const nodeRef = React.useRef(null);\n  const activatedRef = React.useRef(false);\n  const syntheticEventRef = React.useRef(false);\n  React.useEffect(() => {\n    // Ensure that this component is not \"activated\" synchronously.\n    // https://github.com/facebook/react/issues/20074\n    setTimeout(() => {\n      activatedRef.current = true;\n    }, 0);\n    return () => {\n      activatedRef.current = false;\n    };\n  }, []);\n  const handleRef = useForkRef(\n  // @ts-expect-error TODO upstream fix\n  children.ref, nodeRef);\n\n  // The handler doesn't take event.defaultPrevented into account:\n  //\n  // event.preventDefault() is meant to stop default behaviors like\n  // clicking a checkbox to check it, hitting a button to submit a form,\n  // and hitting left arrow to move the cursor in a text input etc.\n  // Only special HTML elements have these default behaviors.\n  const handleClickAway = useEventCallback(event => {\n    // Given developers can stop the propagation of the synthetic event,\n    // we can only be confident with a positive value.\n    const insideReactTree = syntheticEventRef.current;\n    syntheticEventRef.current = false;\n    const doc = ownerDocument(nodeRef.current);\n\n    // 1. IE11 support, which trigger the handleClickAway even after the unbind\n    // 2. The child might render null.\n    // 3. Behave like a blur listener.\n    if (!activatedRef.current || !nodeRef.current || 'clientX' in event && clickedRootScrollbar(event, doc)) {\n      return;\n    }\n\n    // Do not act if user performed touchmove\n    if (movedRef.current) {\n      movedRef.current = false;\n      return;\n    }\n    let insideDOM;\n\n    // If not enough, can use https://github.com/DieterHolvoet/event-propagation-path/blob/master/propagationPath.js\n    if (event.composedPath) {\n      insideDOM = event.composedPath().indexOf(nodeRef.current) > -1;\n    } else {\n      insideDOM = !doc.documentElement.contains(\n      // @ts-expect-error returns `false` as intended when not dispatched from a Node\n      event.target) || nodeRef.current.contains(\n      // @ts-expect-error returns `false` as intended when not dispatched from a Node\n      event.target);\n    }\n    if (!insideDOM && (disableReactTree || !insideReactTree)) {\n      onClickAway(event);\n    }\n  });\n\n  // Keep track of mouse/touch events that bubbled up through the portal.\n  const createHandleSynthetic = handlerName => event => {\n    syntheticEventRef.current = true;\n    const childrenPropsHandler = children.props[handlerName];\n    if (childrenPropsHandler) {\n      childrenPropsHandler(event);\n    }\n  };\n  const childrenProps = {\n    ref: handleRef\n  };\n  if (touchEvent !== false) {\n    childrenProps[touchEvent] = createHandleSynthetic(touchEvent);\n  }\n  React.useEffect(() => {\n    if (touchEvent !== false) {\n      const mappedTouchEvent = mapEventPropToEvent(touchEvent);\n      const doc = ownerDocument(nodeRef.current);\n      const handleTouchMove = () => {\n        movedRef.current = true;\n      };\n      doc.addEventListener(mappedTouchEvent, handleClickAway);\n      doc.addEventListener('touchmove', handleTouchMove);\n      return () => {\n        doc.removeEventListener(mappedTouchEvent, handleClickAway);\n        doc.removeEventListener('touchmove', handleTouchMove);\n      };\n    }\n    return undefined;\n  }, [handleClickAway, touchEvent]);\n  if (mouseEvent !== false) {\n    childrenProps[mouseEvent] = createHandleSynthetic(mouseEvent);\n  }\n  React.useEffect(() => {\n    if (mouseEvent !== false) {\n      const mappedMouseEvent = mapEventPropToEvent(mouseEvent);\n      const doc = ownerDocument(nodeRef.current);\n      doc.addEventListener(mappedMouseEvent, handleClickAway);\n      return () => {\n        doc.removeEventListener(mappedMouseEvent, handleClickAway);\n      };\n    }\n    return undefined;\n  }, [handleClickAway, mouseEvent]);\n  return /*#__PURE__*/_jsx(React.Fragment, {\n    children: /*#__PURE__*/React.cloneElement(children, childrenProps)\n  });\n}\nprocess.env.NODE_ENV !== \"production\" ? ClickAwayListener.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit TypeScript types and run \"yarn proptypes\"  |\n  // ----------------------------------------------------------------------\n  /**\n   * The wrapped element.\n   */\n  children: elementAcceptingRef.isRequired,\n  /**\n   * If `true`, the React tree is ignored and only the DOM tree is considered.\n   * This prop changes how portaled elements are handled.\n   * @default false\n   */\n  disableReactTree: PropTypes.bool,\n  /**\n   * The mouse event to listen to. You can disable the listener by providing `false`.\n   * @default 'onClick'\n   */\n  mouseEvent: PropTypes.oneOf(['onClick', 'onMouseDown', 'onMouseUp', 'onPointerDown', 'onPointerUp', false]),\n  /**\n   * Callback fired when a \"click away\" event is detected.\n   */\n  onClickAway: PropTypes.func.isRequired,\n  /**\n   * The touch event to listen to. You can disable the listener by providing `false`.\n   * @default 'onTouchEnd'\n   */\n  touchEvent: PropTypes.oneOf(['onTouchEnd', 'onTouchStart', false])\n} : void 0;\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line\n  ClickAwayListener['propTypes' + ''] = exactProp(ClickAwayListener.propTypes);\n}\nexport { ClickAwayListener };","'use client';\n\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\", \"component\", \"disableGutters\", \"variant\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base/composeClasses';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport { getToolbarUtilityClass } from './toolbarClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    disableGutters,\n    variant\n  } = ownerState;\n  const slots = {\n    root: ['root', !disableGutters && 'gutters', variant]\n  };\n  return composeClasses(slots, getToolbarUtilityClass, classes);\n};\nconst ToolbarRoot = styled('div', {\n  name: 'MuiToolbar',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, !ownerState.disableGutters && styles.gutters, styles[ownerState.variant]];\n  }\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  position: 'relative',\n  display: 'flex',\n  alignItems: 'center'\n}, !ownerState.disableGutters && {\n  paddingLeft: theme.spacing(2),\n  paddingRight: theme.spacing(2),\n  [theme.breakpoints.up('sm')]: {\n    paddingLeft: theme.spacing(3),\n    paddingRight: theme.spacing(3)\n  }\n}, ownerState.variant === 'dense' && {\n  minHeight: 48\n}), ({\n  theme,\n  ownerState\n}) => ownerState.variant === 'regular' && theme.mixins.toolbar);\nconst Toolbar = /*#__PURE__*/React.forwardRef(function Toolbar(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiToolbar'\n  });\n  const {\n      className,\n      component = 'div',\n      disableGutters = false,\n      variant = 'regular'\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    component,\n    disableGutters,\n    variant\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(ToolbarRoot, _extends({\n    as: component,\n    className: clsx(classes.root, className),\n    ref: ref,\n    ownerState: ownerState\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Toolbar.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * The Toolbar children, usually a mixture of `IconButton`, `Button` and `Typography`.\n   * The Toolbar is a flex container, allowing flex item properties to be used to lay out the children.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * If `true`, disables gutter padding.\n   * @default false\n   */\n  disableGutters: PropTypes.bool,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * The variant to use.\n   * @default 'regular'\n   */\n  variant: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['dense', 'regular']), PropTypes.string])\n} : void 0;\nexport default Toolbar;","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getToolbarUtilityClass(slot) {\n  return generateUtilityClass('MuiToolbar', slot);\n}\nconst toolbarClasses = generateUtilityClasses('MuiToolbar', ['root', 'gutters', 'regular', 'dense']);\nexport default toolbarClasses;"],"names":["useStyles","makeStyles","theme","resizeBar","background","palette","action","disabledBackground","height","position","overflow","tick","pointerEvents","disabled","width","hiddenTick","Tick","_ref","left","scrollLeft","idx","onDrag","onMouseDown","classes","onDragCallback","useCallback","lastFrameDistance","totalDistance","_jsxs","_Fragment","children","_jsx","ResizeHandle","vertical","className","style","ResizeBar","_ref2","widths","setWidths","checkbox","offsets","initial","setInitial","useState","init","i","length","map","_","newWidths","Math","max","useResizeBar","ref","useRef","setScrollLeft","useEffect","timer","setInterval","_ref$current","elt","current","querySelector","clearInterval","FacetedHeader","setFilterText","setUseShoppingCart","setShowSparse","setShowFilters","setShowOptions","showOptions","showSparse","showFilters","useShoppingCart","filterText","model","anchorEl","setAnchorEl","Grid","container","spacing","alignItems","item","TextField","label","value","onChange","event","target","InputProps","endAdornment","InputAdornment","IconButton","onClick","ClearIcon","currentTarget","MoreVert","ShoppingCart","Menu","open","onClose","onMenuItemClick","_event","callback","menuItems","type","checked","facet","margin","marginLeft","select","marginBottom","ClearButton","Tooltip","title","size","ExpandButton","visible","MinimizeIcon","AddIcon","FacetFilter","_ref3","column","vals","dispatch","filters","setVisible","FormControl","display","Typography","field","key","val","Select","multiple","native","options","filter","opt","selected","sort","a","b","localeCompare","_ref4","name","count","coarseStripHTML","FacetFilters","rows","columns","facets","slice","uniqs","Map","f","filterKeys","Object","keys","facetKeys","ret","Set","entry","_filters$entry","add","currentRows","_filters$facet","get","row","concat","undefined","set","has","nonMetadataKeys","cell","whiteSpace","textOverflow","frac","observer","_widthsDebounced$name","_session$getTrackActi","view","selection","pluginManager","getEnv","useLocalStorage","info","setInfo","panelWidth","setPanelWidth","session","getSession","filterDebounced","useDebounce","tracks","useReducer","state","update","useMemo","trackConfigurations","conf","matches","track","_readConfObject","_readConfObject2","metadata","readConfObject","id","trackId","getTrackName","category","join","adapter","description","filteredNonMetadataKeys","r","filteredMetadataKeys","flatMap","getRootKeys","obj","entries","fields","measureGridWidth","maxWidth","stripHTML","fromEntries","e","c","widthsDebounced","hideable","renderCell","params","SanitizedHTML","html","MoreHoriz","_widthsDebounced$e","_widthsDebounced$e2","shownTrackIds","t","configuration","arrFilters","filteredRows","every","JBrowseMenu","getTrackActionMenuItems","call","window","innerHeight","innerWidth","values","DataGrid","columnVisibilityModel","onColumnVisibilityModelChange","newModel","columnHeaderHeight","checkboxSelection","disableRowSelectionOnClick","keepNonExistentRowsSelected","onRowSelectionModelChange","userSelectedIds","root","getRoot","schema","pluggableConfigSchemaType","resolveIdentifier","setSelection","a1","a2","transaction","x","hideTrack","showTrack","rowSelectionModel","s","slots","toolbar","GridToolbar","slotProps","printOptions","disableToolbarButton","rowHeight","dist","overflowY","overflowX","props","handleClose","Dialog","DialogContent","FacetedSelector","mapEventPropToEvent","eventProp","substring","toLowerCase","ClickAwayListener","disableReactTree","mouseEvent","onClickAway","touchEvent","movedRef","React","nodeRef","activatedRef","syntheticEventRef","setTimeout","handleRef","useForkRef","handleClickAway","useEventCallback","insideReactTree","doc","ownerDocument","documentElement","clientWidth","clientX","clientHeight","clientY","clickedRootScrollbar","insideDOM","composedPath","indexOf","contains","createHandleSynthetic","handlerName","childrenPropsHandler","childrenProps","mappedTouchEvent","handleTouchMove","addEventListener","removeEventListener","mappedMouseEvent","_excluded","ToolbarRoot","styled","slot","overridesResolver","styles","ownerState","disableGutters","gutters","variant","_extends","paddingLeft","paddingRight","breakpoints","up","minHeight","mixins","inProps","useThemeProps","component","other","_objectWithoutPropertiesLoose","composeClasses","getToolbarUtilityClass","useUtilityClasses","as","clsx","generateUtilityClass","generateUtilityClasses"],"sourceRoot":""}