{"version":3,"file":"static/js/8237.aff30772.chunk.js","mappings":"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","sources":["../../../node_modules/@gmod/indexedfasta/src/indexedFasta.ts","../../../node_modules/@gmod/indexedfasta/src/bgzipIndexedFasta.ts","../../../node_modules/abortable-promise-cache/esm/AbortablePromiseCache.js","../../../node_modules/abortable-promise-cache/esm/AggregateAbortController.js","../../../node_modules/abortable-promise-cache/esm/AggregateStatusReporter.js","../../../node_modules/abortable-promise-cache/esm/abortcontroller-ponyfill.js","../../../node_modules/abortable-promise-cache/esm/index.js"],"sourcesContent":["import { LocalFile, GenericFilehandle } from 'generic-filehandle'\n\ninterface BaseOpts {\n  signal?: AbortSignal\n}\n\ninterface IndexEntry {\n  offset: number\n  lineBytes: number\n  lineLength: number\n  length: number\n}\n\nfunction _faiOffset(idx: IndexEntry, pos: number) {\n  return (\n    idx.offset +\n    idx.lineBytes * Math.floor(pos / idx.lineLength) +\n    (pos % idx.lineLength)\n  )\n}\n\nasync function readFAI(fai: GenericFilehandle, opts?: BaseOpts) {\n  const text = await fai.readFile(opts)\n  if (!(text && text.length)) {\n    throw new Error('No data read from FASTA index (FAI) file')\n  }\n\n  let idCounter = 0\n  let currSeq: { name: string; id: number } | undefined\n  const data = text\n    .toString('utf8')\n    .split(/\\r?\\n/)\n    .filter(line => /\\S/.test(line))\n    .map(line => line.split('\\t'))\n    .filter(row => row[0] !== '')\n    .map(row => {\n      if (!currSeq || currSeq.name !== row[0]) {\n        currSeq = { name: row[0], id: idCounter }\n        idCounter += 1\n      }\n\n      return {\n        id: currSeq.id,\n        name: row[0],\n        length: +row[1],\n        start: 0,\n        end: +row[1],\n        offset: +row[2],\n        lineLength: +row[3],\n        lineBytes: +row[4],\n      }\n    })\n\n  return {\n    name: Object.fromEntries(data.map(entry => [entry.name, entry])),\n    id: Object.fromEntries(data.map(entry => [entry.id, entry])),\n  }\n}\n\nexport default class IndexedFasta {\n  fasta: GenericFilehandle\n  fai: GenericFilehandle\n  chunkSizeLimit: number\n  indexes?: ReturnType<typeof readFAI>\n\n  constructor({\n    fasta,\n    fai,\n    path,\n    faiPath,\n    chunkSizeLimit = 1000000,\n  }: {\n    fasta?: GenericFilehandle\n    fai?: GenericFilehandle\n    path?: string\n    faiPath?: string\n    chunkSizeLimit?: number\n  }) {\n    if (fasta) {\n      this.fasta = fasta\n    } else if (path) {\n      this.fasta = new LocalFile(path)\n    } else {\n      throw new Error('Need to pass filehandle for fasta or path to localfile')\n    }\n\n    if (fai) {\n      this.fai = fai\n    } else if (faiPath) {\n      this.fai = new LocalFile(faiPath)\n    } else if (path) {\n      this.fai = new LocalFile(`${path}.fai`)\n    } else {\n      throw new Error('Need to pass filehandle for  or path to localfile')\n    }\n    this.chunkSizeLimit = chunkSizeLimit\n  }\n\n  async _getIndexes(opts?: BaseOpts) {\n    if (!this.indexes) {\n      this.indexes = readFAI(this.fai, opts)\n    }\n    return this.indexes\n  }\n\n  /**\n   * @returns {array[string]} array of string sequence\n   * names that are present in the index, in which the\n   * array index indicates the sequence ID, and the value\n   * is the sequence name\n   */\n  async getSequenceNames(opts?: BaseOpts) {\n    return Object.keys((await this._getIndexes(opts)).name)\n  }\n\n  /**\n   * @returns {array[string]} array of string sequence\n   * names that are present in the index, in which the\n   * array index indicates the sequence ID, and the value\n   * is the sequence name\n   */\n  async getSequenceSizes(opts?: BaseOpts) {\n    const returnObject = {} as { [key: string]: number }\n    const idx = await this._getIndexes(opts)\n    const vals = Object.values(idx.id)\n    for (let i = 0; i < vals.length; i += 1) {\n      returnObject[vals[i].name] = vals[i].length\n    }\n    return returnObject\n  }\n\n  /**\n   * @returns {array[string]} array of string sequence\n   * names that are present in the index, in which the\n   * array index indicates the sequence ID, and the value\n   * is the sequence name\n   */\n  async getSequenceSize(seqName: string, opts?: BaseOpts) {\n    const idx = await this._getIndexes(opts)\n    return idx.name[seqName]?.length\n  }\n\n  /**\n   *\n   * @param {string} name\n   * @returns {Promise[boolean]} true if the file contains the given reference sequence name\n   */\n  async hasReferenceSequence(name: string, opts?: BaseOpts) {\n    return !!(await this._getIndexes(opts)).name[name]\n  }\n\n  /**\n   *\n   * @param {number} seqId\n   * @param {number} min\n   * @param {number} max\n   */\n  async getResiduesById(\n    seqId: number,\n    min: number,\n    max: number,\n    opts?: BaseOpts,\n  ) {\n    const indexEntry = (await this._getIndexes(opts)).id[seqId]\n    if (!indexEntry) {\n      return undefined\n    }\n    return this._fetchFromIndexEntry(indexEntry, min, max, opts)\n  }\n\n  /**\n   * @param {string} seqName\n   * @param {number} min\n   * @param {number} max\n   */\n  async getResiduesByName(\n    seqName: string,\n    min: number,\n    max: number,\n    opts?: BaseOpts,\n  ) {\n    const indexEntry = (await this._getIndexes(opts)).name[seqName]\n    if (!indexEntry) {\n      return undefined\n    }\n\n    return this._fetchFromIndexEntry(indexEntry, min, max, opts)\n  }\n\n  //alias for getResiduesByName\n  async getSequence(\n    seqName: string,\n    min: number,\n    max: number,\n    opts?: BaseOpts,\n  ) {\n    return this.getResiduesByName(seqName, min, max, opts)\n  }\n\n  async _fetchFromIndexEntry(\n    indexEntry: IndexEntry,\n    min = 0,\n    max: number,\n    opts?: BaseOpts,\n  ) {\n    let end = max\n    if (min < 0) {\n      throw new TypeError('regionStart cannot be less than 0')\n    }\n    if (end === undefined || end > indexEntry.length) {\n      end = indexEntry.length\n    }\n    if (min >= end) {\n      return ''\n    }\n\n    const position = _faiOffset(indexEntry, min)\n    const readlen = _faiOffset(indexEntry, end) - position\n\n    if (readlen > this.chunkSizeLimit) {\n      throw new Error(\n        `data size of ${readlen.toLocaleString()} bytes exceeded chunk size limit of ${this.chunkSizeLimit.toLocaleString()} bytes`,\n      )\n    }\n\n    const residues = Buffer.allocUnsafe(readlen)\n    await this.fasta.read(residues, 0, readlen, position, opts)\n    return residues.toString('utf8').replace(/\\s+/g, '')\n  }\n}\n","import { BgzfFilehandle } from '@gmod/bgzf-filehandle'\nimport { GenericFilehandle } from 'generic-filehandle'\nimport IndexedFasta from './indexedFasta'\n\nexport default class BgzipIndexedFasta extends IndexedFasta {\n  constructor({\n    fasta,\n    path,\n    fai,\n    faiPath,\n    gzi,\n    gziPath,\n    chunkSizeLimit,\n  }: {\n    fasta?: GenericFilehandle\n    path?: string\n    fai?: GenericFilehandle\n    faiPath?: string\n    gzi?: GenericFilehandle\n    gziPath?: string\n    chunkSizeLimit?: number\n  }) {\n    super({ fasta, path, fai, faiPath, chunkSizeLimit })\n    if (fasta && gzi) {\n      this.fasta = new BgzfFilehandle({\n        filehandle: fasta,\n        gziFilehandle: gzi,\n      })\n    } else if (path && gziPath) {\n      this.fasta = new BgzfFilehandle({ path, gziPath })\n    }\n  }\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst abortcontroller_ponyfill_1 = require(\"./abortcontroller-ponyfill\");\nconst AggregateAbortController_1 = __importDefault(require(\"./AggregateAbortController\"));\nconst AggregateStatusReporter_1 = __importDefault(require(\"./AggregateStatusReporter\"));\nclass AbortablePromiseCache {\n    constructor({ fill, cache, }) {\n        if (typeof fill !== 'function') {\n            throw new TypeError('must pass a fill function');\n        }\n        if (typeof cache !== 'object') {\n            throw new TypeError('must pass a cache object');\n        }\n        if (typeof cache.get !== 'function' ||\n            typeof cache.set !== 'function' ||\n            typeof cache.delete !== 'function') {\n            throw new TypeError('cache must implement get(key), set(key, val), and and delete(key)');\n        }\n        this.cache = cache;\n        this.fillCallback = fill;\n    }\n    static isAbortException(exception) {\n        return (\n        // DOMException\n        exception.name === 'AbortError' ||\n            // standard-ish non-DOM abort exception\n            //@ts-ignore\n            exception.code === 'ERR_ABORTED' ||\n            // stringified DOMException\n            exception.message === 'AbortError: aborted' ||\n            // stringified standard-ish exception\n            exception.message === 'Error: aborted');\n    }\n    evict(key, entry) {\n        if (this.cache.get(key) === entry) {\n            this.cache.delete(key);\n        }\n    }\n    fill(key, data, signal, statusCallback) {\n        const aborter = new AggregateAbortController_1.default();\n        const statusReporter = new AggregateStatusReporter_1.default();\n        statusReporter.addCallback(statusCallback);\n        const newEntry = {\n            aborter: aborter,\n            promise: this.fillCallback(data, aborter.signal, (message) => {\n                statusReporter.callback(message);\n            }),\n            settled: false,\n            statusReporter,\n            get aborted() {\n                return this.aborter.signal.aborted;\n            },\n        };\n        newEntry.aborter.addSignal(signal);\n        // remove the fill from the cache when its abortcontroller fires, if still in there\n        newEntry.aborter.signal.addEventListener('abort', () => {\n            if (!newEntry.settled) {\n                this.evict(key, newEntry);\n            }\n        });\n        // chain off the cached promise to record when it settles\n        newEntry.promise\n            .then(() => {\n            newEntry.settled = true;\n        }, () => {\n            newEntry.settled = true;\n            // if the fill throws an error (including abort) and is still in the cache, remove it\n            this.evict(key, newEntry);\n        })\n            .catch(e => {\n            // this will only be reached if there is some kind of\n            // bad bug in this library\n            console.error(e);\n            throw e;\n        });\n        this.cache.set(key, newEntry);\n    }\n    static checkSinglePromise(promise, signal) {\n        // check just this signal for having been aborted, and abort the\n        // promise if it was, regardless of what happened with the cached\n        // response\n        function checkForSingleAbort() {\n            if (signal && signal.aborted) {\n                throw Object.assign(new Error('aborted'), { code: 'ERR_ABORTED' });\n            }\n        }\n        return promise.then(result => {\n            checkForSingleAbort();\n            return result;\n        }, error => {\n            checkForSingleAbort();\n            throw error;\n        });\n    }\n    has(key) {\n        return this.cache.has(key);\n    }\n    /**\n     * Callback for getting status of the pending async\n     *\n     * @callback statusCallback\n     * @param {any} status, current status string or message object\n     */\n    /**\n     * @param {any} key cache key to use for this request\n     * @param {any} data data passed as the first argument to the fill callback\n     * @param {AbortSignal} [signal] optional AbortSignal object that aborts the request\n     * @param {statusCallback} a callback to get the current status of a pending async operation\n     */\n    get(key, data, signal, statusCallback) {\n        if (!signal && data instanceof abortcontroller_ponyfill_1.AbortSignal) {\n            throw new TypeError('second get argument appears to be an AbortSignal, perhaps you meant to pass `null` for the fill data?');\n        }\n        const cacheEntry = this.cache.get(key);\n        if (cacheEntry) {\n            if (cacheEntry.aborted && !cacheEntry.settled) {\n                // if it's aborted but has not realized it yet, evict it and redispatch\n                this.evict(key, cacheEntry);\n                return this.get(key, data, signal, statusCallback);\n            }\n            if (cacheEntry.settled) {\n                // too late to abort, just return it\n                return cacheEntry.promise;\n            }\n            // request is in-flight, add this signal to its list of signals,\n            // or if there is no signal, the aborter will become non-abortable\n            cacheEntry.aborter.addSignal(signal);\n            cacheEntry.statusReporter.addCallback(statusCallback);\n            return AbortablePromiseCache.checkSinglePromise(cacheEntry.promise, signal);\n        }\n        // if we got here, it is not in the cache. fill.\n        this.fill(key, data, signal, statusCallback);\n        return AbortablePromiseCache.checkSinglePromise(\n        //see https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#non-null-assertion-operator-postfix-\n        //eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        this.cache.get(key).promise, signal);\n    }\n    /**\n     * delete the given entry from the cache. if it exists and its fill request has\n     * not yet settled, the fill will be signaled to abort.\n     *\n     * @param {any} key\n     */\n    delete(key) {\n        const cachedEntry = this.cache.get(key);\n        if (cachedEntry) {\n            if (!cachedEntry.settled) {\n                cachedEntry.aborter.abort();\n            }\n            this.cache.delete(key);\n        }\n    }\n    /**\n     * Clear all requests from the cache. Aborts any that have not settled.\n     * @returns {number} count of entries deleted\n     */\n    clear() {\n        // iterate without needing regenerator-runtime\n        const keyIter = this.cache.keys();\n        let deleteCount = 0;\n        for (let result = keyIter.next(); !result.done; result = keyIter.next()) {\n            this.delete(result.value);\n            deleteCount += 1;\n        }\n        return deleteCount;\n    }\n}\nexports.default = AbortablePromiseCache;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst abortcontroller_ponyfill_1 = require(\"./abortcontroller-ponyfill\");\nclass NullSignal {\n}\n/**\n * aggregates a number of abort signals, will only fire the aggregated\n * abort if all of the input signals have been aborted\n */\nclass AggregateAbortController {\n    constructor() {\n        this.signals = new Set();\n        this.abortController = new abortcontroller_ponyfill_1.AbortController();\n    }\n    /**\n     * @param {AbortSignal} [signal] optional AbortSignal to add. if falsy,\n     *  will be treated as a null-signal, and this abortcontroller will no\n     *  longer be abortable.\n     */\n    //@ts-ignore\n    addSignal(signal = new NullSignal()) {\n        if (this.signal.aborted) {\n            throw new Error('cannot add a signal, already aborted!');\n        }\n        // note that a NullSignal will never fire, so if we\n        // have one this thing will never actually abort\n        this.signals.add(signal);\n        if (signal.aborted) {\n            // handle the abort immediately if it is already aborted\n            // for some reason\n            this.handleAborted(signal);\n        }\n        else if (typeof signal.addEventListener === 'function') {\n            signal.addEventListener('abort', () => {\n                this.handleAborted(signal);\n            });\n        }\n    }\n    handleAborted(signal) {\n        this.signals.delete(signal);\n        if (this.signals.size === 0) {\n            this.abortController.abort();\n        }\n    }\n    get signal() {\n        return this.abortController.signal;\n    }\n    abort() {\n        this.abortController.abort();\n    }\n}\nexports.default = AggregateAbortController;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass AggregateStatusReporter {\n    constructor() {\n        this.callbacks = new Set();\n    }\n    addCallback(callback = () => { }) {\n        this.callbacks.add(callback);\n        callback(this.currentMessage);\n    }\n    callback(message) {\n        this.currentMessage = message;\n        this.callbacks.forEach(elt => {\n            elt(message);\n        });\n    }\n}\nexports.default = AggregateStatusReporter;\n","\"use strict\";\n/* eslint-disable */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbortSignal = exports.AbortController = void 0;\nconst cjs_ponyfill_1 = require(\"abortcontroller-polyfill/dist/cjs-ponyfill\");\nvar getGlobal = function () {\n    // the only reliable means to get the global object is\n    // `Function('return this')()`\n    // However, this causes CSP violations in Chrome apps.\n    if (typeof self !== 'undefined') {\n        return self;\n    }\n    if (typeof window !== 'undefined') {\n        return window;\n    }\n    if (typeof global !== 'undefined') {\n        return global;\n    }\n    throw new Error('unable to locate global object');\n};\n//@ts-ignore\nlet AbortController = typeof getGlobal().AbortController === 'undefined' ? cjs_ponyfill_1.AbortController : getGlobal().AbortController;\nexports.AbortController = AbortController;\n//@ts-ignore\nlet AbortSignal = typeof getGlobal().AbortController === 'undefined' ? cjs_ponyfill_1.AbortSignal : getGlobal().AbortSignal;\nexports.AbortSignal = AbortSignal;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst AbortablePromiseCache_1 = __importDefault(require(\"./AbortablePromiseCache\"));\nexports.default = AbortablePromiseCache_1.default;\n"],"names":["_faiOffset","idx","pos","offset","lineBytes","Math","floor","lineLength","readFAI","_x","_x2","_readFAI","_asyncToGenerator","_regeneratorRuntime","mark","_callee","fai","opts","text","idCounter","currSeq","data","wrap","_context","prev","next","readFile","sent","length","Error","toString","split","filter","line","test","map","row","name","id","start","end","abrupt","Object","fromEntries","entry","stop","apply","arguments","IndexedFasta","_getIndexes2","_getSequenceNames","_getSequenceSizes","_getSequenceSize","_hasReferenceSequence","_getResiduesById","_getResiduesByName","_getSequence","_fetchFromIndexEntry2","_ref","fasta","path","faiPath","_ref$chunkSizeLimit","chunkSizeLimit","_classCallCheck","this","LocalFile","concat","_createClass","key","value","_x3","_callee2","_context2","indexes","_x4","_callee3","_context3","t0","_getIndexes","t1","keys","call","_x5","_callee4","returnObject","vals","i","_context4","values","_x6","_x7","_callee5","seqName","_a","_context5","_x8","_x9","_callee6","_context6","_x10","_x11","_x12","_x13","_callee7","seqId","min","max","indexEntry","_context7","undefined","_fetchFromIndexEntry","_x14","_x15","_x16","_x17","_callee8","_context8","_x18","_x19","_x20","_x21","_callee9","_context9","getResiduesByName","_x22","_callee10","position","readlen","residues","_args10","_context10","TypeError","toLocaleString","Buffer","allocUnsafe","read","replace","BgzipIndexedFasta","_IndexedFasta","_inherits","_super","_createSuper","_this","gzi","gziPath","BgzfFilehandle","filehandle","gziFilehandle","require","__importDefault","mod","__esModule","defineProperty","exports","abortcontroller_ponyfill_1","AggregateAbortController_1","AggregateStatusReporter_1","AbortablePromiseCache","fill","cache","get","set","delete","fillCallback","signal","statusCallback","aborter","default","statusReporter","addCallback","newEntry","promise","message","callback","settled","aborted","addSignal","addEventListener","evict","then","catch","e","console","error","has","AbortSignal","cacheEntry","checkSinglePromise","cachedEntry","abort","keyIter","deleteCount","result","done","exception","code","checkForSingleAbort","assign","NullSignal","AggregateAbortController","signals","Set","abortController","AbortController","add","handleAborted","size","AggregateStatusReporter","callbacks","currentMessage","forEach","elt","cjs_ponyfill_1","getGlobal","self","window","global","AbortablePromiseCache_1"],"sourceRoot":""}