{"version":3,"file":"static/js/4599.183fb85b.chunk.js","mappings":"gRAsBA,MAAMA,GAAYC,EAAAA,EAAAA,KAAAA,EAAaC,IAAK,CAClCC,oBAAqB,CACnBC,MAAO,IACPC,OAAQH,EAAMI,QAAQ,QAIpBC,GAAgBC,EAAAA,EAAAA,WAAS,SAAsBC,GAQjD,IARkD,KACpDC,EAAI,QACJC,EAAO,gBACPC,GAKDH,EACC,MAAQI,oBAAqBC,EAAY,IAAOH,EAC1CI,GAAOC,EAAAA,EAAAA,gBAAeN,EAAM,QAC5BO,GAAgBD,EAAAA,EAAAA,gBAAeN,EAAM,iBACrCQ,EAAQJ,EAAUK,MAAKC,GAAQL,IAASK,EAAKL,OACnD,OACEM,EAAAA,EAAAA,KAACC,EAAAA,EAAgB,CAEfC,SACEF,EAAAA,EAAAA,KAACG,EAAAA,EAAQ,CACPC,UAAWP,EACXQ,SAAUA,KAGA,IAADC,EAFHT,EACFN,EAAgBF,GAEM,QAAtBiB,EAAAhB,EAAQiB,sBAAc,IAAAD,GAAtBA,EAAAE,KAAAlB,EAAyBD,EAC3B,EAEFoB,MAAM,YAGVC,MAAO,CACLhB,EACAE,EAAce,OAAM,IAAAC,QA1CVC,EA0C0BjB,EAAckB,KAAK,KAzCtDD,EAAKF,OAAS,GAAE,GAAAC,OAAMC,EAAKE,MAAM,EAAG,IAAG,OAAQF,GAyCY,KAAM,IAEjEG,QAAOC,KAAOA,IACdH,KAAK,MAnBHzB,EAAK6B,cA1BhB,IAAkBL,CAgDlB,IAEMM,GAAiBhC,EAAAA,EAAAA,WAAS,SAAwBiC,GAMpD,IANqD,QACvD9B,EAAO,gBACPC,GAID6B,EACC,MAAM,QAAEC,GAAY1C,IACpB,OACEqB,EAAAA,EAAAA,KAAA,OAAKsB,UAAWD,EAAQvC,oBAAoByC,SACxCjC,EAAQkC,YAAYb,OAGpBrB,EAAQkC,YAAYC,KAAI,CAACpC,EAAMqC,KAC7B1B,EAAAA,EAAAA,KAAA,OAAAuB,UACEvB,EAAAA,EAAAA,KAACd,EAAa,CACZG,KAAMA,EACNC,QAASA,EACTC,gBAAiBA,KAJXF,EAAKK,KAAO,IAAMgC,MAH9B1B,EAAAA,EAAAA,KAAC2B,EAAAA,EAAU,CAAAJ,SAAC,0BAcpB,IAmCA,GAjC+BpC,EAAAA,EAAAA,WAAS,SAAAyC,GAQpC,IAR8C,QAChDtC,EAAO,YACPuC,EAAW,gBACXtC,GAKDqC,EACC,OACEE,EAAAA,EAAAA,MAACC,EAAAA,OAAM,CACLC,MAAI,EACJC,QAASJ,EACTK,SAAS,KACTC,MAAM,0BAAyBZ,SAAA,EAE/BO,EAAAA,EAAAA,MAACM,EAAAA,EAAa,CAAAb,SAAA,EACZvB,EAAAA,EAAAA,KAAC2B,EAAAA,EAAU,CAAAJ,SAAC,iDACZvB,EAAAA,EAAAA,KAACmB,EAAc,CAAC7B,QAASA,EAASC,gBAAiBA,QAErDS,EAAAA,EAAAA,KAACqC,EAAAA,EAAa,CAAAd,UACZvB,EAAAA,EAAAA,KAACsC,EAAAA,EAAM,CACLC,QAASA,IAAMV,IACfW,QAAQ,YACR/B,MAAM,UAASc,SAChB,cAMT,G","sources":["../../../plugins/data-management/src/HierarchicalTrackSelectorWidget/components/dialogs/ToggleConnectionsDialog.tsx"],"sourcesContent":["import React from 'react'\nimport {\n  Button,\n  Checkbox,\n  DialogContent,\n  DialogActions,\n  FormControlLabel,\n  Typography,\n} from '@mui/material'\nimport { Dialog } from '@jbrowse/core/ui'\nimport { makeStyles } from 'tss-react/mui'\nimport { observer } from 'mobx-react'\nimport {\n  AnyConfigurationModel,\n  readConfObject,\n} from '@jbrowse/core/configuration'\nimport { AbstractSessionModel } from '@jbrowse/core/util'\n\nfunction ellipses(slug: string) {\n  return slug.length > 20 ? `${slug.slice(0, 20)}...` : slug\n}\n\nconst useStyles = makeStyles()(theme => ({\n  connectionContainer: {\n    width: 500,\n    margin: theme.spacing(4),\n  },\n}))\n\nconst ConnectionRow = observer(function ConnectionRow({\n  conf,\n  session,\n  breakConnection,\n}: {\n  conf: AnyConfigurationModel\n  session: AbstractSessionModel\n  breakConnection: (arg: AnyConfigurationModel) => void\n}) {\n  const { connectionInstances: instances = [] } = session\n  const name = readConfObject(conf, 'name')\n  const assemblyNames = readConfObject(conf, 'assemblyNames')\n  const found = instances.find(conn => name === conn.name)\n  return (\n    <FormControlLabel\n      key={conf.connectionId}\n      control={\n        <Checkbox\n          checked={!!found}\n          onChange={() => {\n            if (found) {\n              breakConnection(conf)\n            } else {\n              session.makeConnection?.(conf)\n            }\n          }}\n          color=\"primary\"\n        />\n      }\n      label={[\n        name,\n        assemblyNames.length ? `(${ellipses(assemblyNames.join(','))})` : '',\n      ]\n        .filter(f => !!f)\n        .join(' ')}\n    />\n  )\n})\n\nconst ConnectionList = observer(function ConnectionsList({\n  session,\n  breakConnection,\n}: {\n  session: AbstractSessionModel\n  breakConnection: (arg: AnyConfigurationModel) => void\n}) {\n  const { classes } = useStyles()\n  return (\n    <div className={classes.connectionContainer}>\n      {!session.connections.length ? (\n        <Typography>No connections found</Typography>\n      ) : (\n        session.connections.map((conf, idx) => (\n          <div key={conf.name + '_' + idx}>\n            <ConnectionRow\n              conf={conf}\n              session={session}\n              breakConnection={breakConnection}\n            />\n          </div>\n        ))\n      )}\n    </div>\n  )\n})\n\nconst ToggleConnectionDialog = observer(function ({\n  session,\n  handleClose,\n  breakConnection,\n}: {\n  handleClose: () => void\n  session: AbstractSessionModel\n  breakConnection: (arg: AnyConfigurationModel) => void\n}) {\n  return (\n    <Dialog\n      open\n      onClose={handleClose}\n      maxWidth=\"lg\"\n      title=\"Turn on/off connections\"\n    >\n      <DialogContent>\n        <Typography>Use the checkbox to turn on/off connections</Typography>\n        <ConnectionList session={session} breakConnection={breakConnection} />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          onClick={() => handleClose()}\n          variant=\"contained\"\n          color=\"primary\"\n        >\n          Close\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n})\n\nexport default ToggleConnectionDialog\n"],"names":["useStyles","makeStyles","theme","connectionContainer","width","margin","spacing","ConnectionRow","observer","_ref","conf","session","breakConnection","connectionInstances","instances","name","readConfObject","assemblyNames","found","find","conn","_jsx","FormControlLabel","control","Checkbox","checked","onChange","_session$makeConnecti","makeConnection","call","color","label","length","concat","slug","join","slice","filter","f","connectionId","ConnectionList","_ref2","classes","className","children","connections","map","idx","Typography","_ref3","handleClose","_jsxs","Dialog","open","onClose","maxWidth","title","DialogContent","DialogActions","Button","onClick","variant"],"sourceRoot":""}