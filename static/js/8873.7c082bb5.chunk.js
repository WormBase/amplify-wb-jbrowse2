"use strict";(self.webpackChunk_jbrowse_web=self.webpackChunk_jbrowse_web||[]).push([[8873],{98873:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var r=n(33028),a=n(32723),i=n(34795),c=n(9249),u=n(87371),s=n(45754),o=n(13820),f=n(20783),p=n(33528),h=n(26131),v=n(78022),l=n(6556),d=n(78867),g=function(e,t,n,f,g,Z){(0,s.Z)(k,e);var w=(0,o.Z)(k);function k(){var e;(0,c.Z)(this,k);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=w.call.apply(w,[this].concat(n))).configured=void 0,e}return(0,u.Z)(k,[{key:"configurePre",value:function(){return(t=t||(0,i.Z)((0,a.Z)().mark((function e(){var t,n,r,i,c,u,s,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.pluginManager,n=this.getConf("vcfGzLocation"),r=this.getConf(["index","location"]),i=this.getConf(["index","indexType"]),c=(0,p.openLocation)(n,t),u="CSI"===i,s=new v.pC({filehandle:c,csiFilehandle:u?(0,p.openLocation)(r,t):void 0,tbiFilehandle:u?void 0:(0,p.openLocation)(r,t),chunkCacheSize:50*Math.pow(2,20),chunkSizeLimit:1e9}),e.next=9,s.getHeader();case 9:return o=e.sent,e.abrupt("return",{vcf:s,parser:new l.Z({header:o})});case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"configure",value:function(){return(n=n||(0,i.Z)((0,a.Z)().mark((function e(){var t=this;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.configured||(this.configured=this.configurePre().catch((function(e){throw t.configured=void 0,e}))),e.abrupt("return",this.configured);case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"getRefNames",value:function(){return(f=f||(0,i.Z)((0,a.Z)().mark((function e(){var t,n,r,i=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},e.next=3,this.configure();case 3:return n=e.sent,r=n.vcf,e.abrupt("return",r.getReferenceSequenceNames(t));case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"getHeader",value:function(){return(g=g||(0,i.Z)((0,a.Z)().mark((function e(){var t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.configure();case 2:return t=e.sent,n=t.vcf,e.abrupt("return",n.getHeader());case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"getMetadata",value:function(){return(Z=Z||(0,i.Z)((0,a.Z)().mark((function e(){var t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.configure();case 2:return t=e.sent,n=t.parser,e.abrupt("return",n.getMetadata());case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"getFeatures",value:function(e){var t,n=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,h.ObservableCreate)((function(u){return(t=t||(0,i.Z)((0,a.Z)().mark((function t(i){var u,s,o,f,p,h;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=e.refName,s=e.start,o=e.end,t.next=3,n.configure();case 3:return f=t.sent,p=f.vcf,h=f.parser,t.next=8,p.getLines(u,s,o,(0,r.Z)({lineCallback:function(e,t){i.next(new d.Z({variant:h.parseLine(e),parser:h,id:"".concat(n.id,"-vcf-").concat(t)}))}},c));case 8:i.complete();case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}),c.signal)}},{key:"freeResources",value:function(){}}]),k}(f.BaseFeatureDataAdapter)}}]);
//# sourceMappingURL=8873.7c082bb5.chunk.js.map