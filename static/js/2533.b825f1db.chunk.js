"use strict";(self.webpackChunk_jbrowse_web=self.webpackChunk_jbrowse_web||[]).push([[2533,5997],{45997:function(e,r,n){n.r(r),n.d(r,{bufferToString:function(){return l},parseCsvBuffer:function(){return h},parseTsvBuffer:function(){return b}});var t,a,u,s=n(41361),o=n(96234),c=n(32723),i=n(33028),f=n(34795),m=n(81073);function l(e){return new TextDecoder("utf8",{fatal:!0}).decode(e)}function p(e){return(t=t||(0,f.Z)((0,c.Z)().mark((function e(r){var t,a,u=arguments;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>1&&void 0!==u[1]?u[1]:{},e.next=3,n.e(2745).then(n.t.bind(n,12745,23)).then((function(e){return e.default}));case 3:return a=e.sent,e.abrupt("return",a((0,i.Z)({noheader:!0,output:"csv"},t)).fromString(l(r)));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,r,n){var t,a,u=e.rows[0].cells[r].text||"",s="Text";try{a=(0,m.parseLocString)(u,n)}catch(o){}return null!==(t=a)&&void 0!==t&&t.refName&&"number"===typeof a.start?s="LocString":/^\d+(\.\d+)?$/.test(u)&&(s="Number"),s}function v(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.hasColumnNameLine,t=void 0!==n&&n,a=r.columnNameLineNumber,u=void 0===a?1:a,c=r.isValidRefName,i=void 0===c?function(){return!1}:c,f=r.selectedAssemblyName,l=0,p={isLoaded:!0,rows:e.map((function(e,r){var n=r+(t?0:1);return e.length>l&&(l=e.length),{id:String(n),cells:e.map((function(e,r){return{columnNumber:r,text:e}}))}}))},v={};if(t&&void 0!==u){var h=p.rows.splice(u-1,1),b=(0,o.Z)(h,1)[0];b&&b.cells.forEach((function(e,r){v[r]=e.text||""}))}for(var N=[],w=[],y=0;y<l;y+=1){w.push(y);var x=d(p,y,i);if("LocString"===x){var g,Z=(0,s.Z)(p.rows);try{for(Z.s();!(g=Z.n()).done;){var k=g.value.cells[y];k.extendedData=(0,m.parseLocString)(k.text,i)}}catch(L){Z.e(L)}finally{Z.f()}}N[y]={name:v[y],dataType:{type:x}}}return{rowSet:p,columnDisplayOrder:w,hasColumnNames:!!t,columns:N,assemblyName:f}}function h(e,r){return(a=a||(0,f.Z)((0,c.Z)().mark((function e(r,n){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(r);case 2:return t=e.sent,e.abrupt("return",v(t,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,r){return(u=u||(0,f.Z)((0,c.Z)().mark((function e(r,n){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(r,{delimiter:"\t"});case 2:return t=e.sent,e.abrupt("return",v(t,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},32533:function(e,r,n){n.r(r),n.d(r,{parseSTARFusionBuffer:function(){return i}});var t,a=n(32723),u=n(34795),s=n(45997);function o(e){var r=e.split(":");return{refName:r[0],pos:Number.parseInt(r[1],10),strand:"-"===r[2]?-1:1}}var c={SpanningFragCount:!0,FFPM:!0,LeftBreakEntropy:!0,RightBreakEntropy:!0,JunctionReadCount:!0};function i(e,r){return(t=t||(0,u.Z)((0,a.Z)().mark((function e(r,n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.parseTsvBuffer)(r,{hasColumnNameLine:!0,columnNameLineNumber:1,selectedAssemblyName:n.selectedAssemblyName,isValidRefName:function(){return!1}});case 2:return(t=e.sent).columns[0].name=t.columns[0].name.replace("#",""),t.columns.forEach((function(e){c[e.name]&&(e.dataType={type:"Number"})})),t.rowSet.rows.forEach((function(e,r){var n={};e.cells.forEach((function(e,r){var a=e.text,u=t.columns[r];if("LeftBreakpoint"===u.name&&a){var s=o(a),i=s.refName,f=s.pos,m=s.strand;n.refName=i,n.start=f,n.end=f,n.strand=m}else if("RightBreakpoint"===u.name&&a){var l=o(a),p=l.refName,d=l.pos,v=l.strand;n.mate={refName:p,start:d,end:d,strand:v}}else a&&c[u.name]?n[u.name]=parseFloat(a):n[u.name]=a})),n.uniqueId="sf-".concat(r+1),e.extendedData={feature:n}})),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=2533.b825f1db.chunk.js.map